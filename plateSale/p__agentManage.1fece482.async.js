(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"91es":function(e,a,t){"use strict";t.r(a);t("lUTK");var n=t("BvKs"),r=(t("sPJy"),t("bE4q")),l=t("fWQN"),d=t("mtLc"),i=t("Nsem"),s=t("oZsa"),o=t("yKVA"),c=t("q1tI"),u=t.n(c),g=t("55Ip"),p=t("9kvl"),h=t("jTJO"),m=t.n(h),f=(t("2qtc"),t("kLXV")),b=(t("T2oS"),t("W9HT")),v=(t("g9YV"),t("wCAj")),C=(t("+L6B"),t("2/Rp")),y=(t("6UJt"),t("DFOY")),S=(t("5NDa"),t("5rEg")),O=(t("/xke"),t("TeRw")),I=(t("+BJd"),t("mr32")),k=t("tS8v"),E=(t("OaEy"),t("2fM7")),D=t("ud1q"),w=t.n(D),x=t("WmNS"),B=t.n(x),N=t("9og8"),A=t("t3Un"),j=t("LZAR");function R(e){return L.apply(this,arguments)}function L(){return L=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/RelAgentOutletsBrand/pageList",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function T(e){return V.apply(this,arguments)}function V(){return V=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/DealerPersonnel/getCityTree",{method:"GET"}));case 1:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function M(e){return P.apply(this,arguments)}function P(){return P=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/RelAgentOutletsBrand/getAllBrands",{method:"GET",data:a}));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function z(e){return q.apply(this,arguments)}function q(){return q=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/RelAgentOutletsBrand/editFirstAgent",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function U(e){return H.apply(this,arguments)}function H(){return H=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/RelAgentOutletsBrand/addFirstAgent",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function J(e){return F.apply(this,arguments)}function F(){return F=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/RelAgentOutletsBrand/enableAgentAndAccount",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function K(e){return W.apply(this,arguments)}function W(){return W=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/RelAgentOutletsBrand/getSecondAgentSellBrandAndModel?".concat(a&&Object(j["a"])(a)),{method:"GET"}));case 1:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function _(e){return G.apply(this,arguments)}function G(){return G=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/RelAgentOutletsBrand/updateSecondAgent",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return X=Object(N["a"])(B.a.mark((function e(a){return B.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A["a"])("/agent/v1.1/RelAgentOutletsBrand/addSecondAgent",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}var Y=t("oBTY"),Z=t("XaiL"),$=t.n(Z),ee=t("4i/N");function ae(e){return function(){var a,t=Object(s["a"])(e);if(te()){var n=Object(s["a"])(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return Object(i["a"])(this,a)}}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ne=E["a"].Option,re=function(e){Object(o["a"])(t,e);var a=ae(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.deleteAgent=function(e){var a=[],t=n.state.dataSource;t.forEach((function(t){t!==e&&a.push(t)})),n.setState({dataSource:a})},n.handleChange=function(e,a){console.log(a);var t=[],r=[];t.push(a.children),r.push(a.value),n.setState({agentBrand:t,brandIds:r})},n.handleOk=function(e){if(0===n.state.dataSource)return alert("\u6570\u636e\u4e0d\u80fd\u4e3a\u4e3a\u7a7a"),!1;n.initAddPopup(),n.props.onChangePLoad(),U({list:n.state.dataSource}).then((function(e){console.log(e),e&&e.data&&(O["a"].success({description:"\u63d0\u793a",message:"\u6dfb\u52a0\u6210\u529f"}),n.props.onAddOk())}))},n.handleCancel=function(e){n.initAddPopup()},n.initAddPopup=function(){n.setState({visible:!1,dataSource:[],agentName:"",agentAddress:"",agentBrand:[],brandIds:[]})},n.checkAddData=function(){n.state.agentName?n.state.dropdownValue.join("")?n.state.agentAddress?0!==n.state.agentBrand.length?n.updateAddList():alert("\u8bf7\u9009\u62e9\u54c1\u724c"):alert("\u8bf7\u8f93\u5165\u5730\u5740"):alert("\u8bf7\u9009\u62e9\u5e02\u533a"):alert("\u8bf7\u8f93\u5165\u5546\u6237\u540d\u79f0")},n.updateAddList=function(){var e={key:n.key,name:n.state.agentName,city:n.state.dropdownValue[0],region:n.state.dropdownValue[1],address:n.state.agentAddress,agentBrand:n.state.agentBrand,brandIds:n.state.brandIds},a=n.state.dataSource;a.push(e),n.setState({dataSource:Object(Y["a"])(a),agentName:"",dropdownValue:[],agentAddress:"",agentBrand:[],brandIds:[]},n.brandsListSet),n.key++},n.brandsListSet=function(){var e=n.state.dataSource,a=[];e.forEach((function(e,t){a=a.concat(e.brandIds)}));var t=[];n.brandsList.forEach((function(e,n){-1!==a.indexOf(e.id)&&(e.agented=2),t.push(e)})),n.selectChildrenRender(t)},n.agentNameInp=function(e){n.setState({agentName:e.target.value})},n.agentAddressInp=function(e){n.setState({agentAddress:e.target.value})},n.showModal=function(){n.setState({visible:!0}),console.log(n.state.visible)},n.dropDownChange=function(e){console.log(e),n.setState({dropdownValue:e})},n.reqBrand=function(){M().then((function(e){console.log(e),e&&e.data?(n.brandsList=e.data,n.selectChildrenRender(e.data)):alert("\u54c1\u724c\u4fe1\u606f\u83b7\u53d6\u5931\u8d25")}))},n.selectChildrenRender=function(e){console.log(e);var a=[];e.forEach((function(e,t){var n;2===e.agented||(n=u.a.createElement(ne,{key:e.id,disabled:!1},e.brandName)),a.push(n)})),n.setState({brandChildren:a})},n.brandsList=[],n.key=0,n.state={visible:!1,dataSource:[],columns:[{title:"\u5546\u6237\u540d\u79f0",dataIndex:"name",key:"name",width:100},{title:"\u5e02\u533a",dataIndex:"city",key:"city",width:100},{title:"\u5730\u5740",dataIndex:"address",key:"address",width:200},{title:"\u4ee3\u7406\u54c1\u724c",dataIndex:"agentBrand",key:"agentBrand",width:200},{title:"",key:"do",fixed:"right",width:100,render:function(e,a){return u.a.createElement("a",{onClick:n.deleteAgent.bind(e,a)},u.a.createElement(ee["a"],null))}}],dropdownData:n.props.cityRegion,dropdownValue:[],agentName:"",agentAddress:"",agentBrand:[],brandChildren:[],brandIds:[]},n}return Object(d["a"])(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.onRef(this),this.reqBrand()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,a=e.dataSource,t=e.columns,n=e.dropdownData,r=e.agentName,l=e.agentAddress,d=e.dropdownValue,i=(e.agentBrand,e.brandChildren),s=e.brandIds;return u.a.createElement("div",null,u.a.createElement(f["a"],{title:"\u65b0\u589e\u54c1\u724c\u5382\u5bb6",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,maskClosable:!1,width:"60%"},u.a.createElement(v["a"],{scroll:{x:600},dataSource:a,columns:t,pagination:!1}),u.a.createElement("div",null,u.a.createElement("div",{className:$.a.addInpInLine},u.a.createElement(S["a"],{className:$.a.addInp,value:r,onChange:this.agentNameInp,placeholder:"\u5546\u6237\u540d\u79f0"}),u.a.createElement(y["a"],{options:n,expandTrigger:"hover",onChange:this.dropDownChange,className:$.a.addInp2,placeholder:"\u9009\u62e9\u5e02\u533a",value:d})),u.a.createElement(S["a"],{className:$.a.addInpAddress,value:l,onChange:this.agentAddressInp,placeholder:"\u5546\u6237\u5730\u5740"}),u.a.createElement(E["a"],{style:{width:"100%"},placeholder:"\u9009\u62e9\u4ee3\u7406\u54c1\u724c",onChange:this.handleChange,className:$.a.addInpAgentBrand,value:s},i)),u.a.createElement(C["a"],{className:$.a.addSubBtn,onClick:this.checkAddData,type:"primary",block:!0,color:"#ccc"},"+ \u6dfb\u52a0")))}},{key:"displayRender",value:function(e){return e[e.length-1]}}]),t}(u.a.Component),le=re,de=t("xvlK");function ie(e){return function(){var a,t=Object(s["a"])(e);if(se()){var n=Object(s["a"])(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return Object(i["a"])(this,a)}}function se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var oe=E["a"].Option,ce=function(e){Object(o["a"])(t,e);var a=ie(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.editData=function(e,a){console.log(e,a);var t=[],r=n.brandsList;e.brandList.forEach((function(e,a){t.push(e.id),r.forEach((function(a,t){e.id===a.id&&(a.agented=1)}))})),console.log(r),n.selectChildrenRender(r),n.setState({editVisible:!0,editDataName:e.agentOutletsName,editDataCity:[e.city,e.region],editDataAddress:e.address,editDataBrandId:t,editDataId:e.agentOutletsId,selectChildren:n.selectChildren})},n.onFinishFailed=function(e){console.log("Failed:",e)},n.onFinish=function(e){console.log("Success:",e)},n.editAgentNameInp=function(e){n.setState({editDataName:e.target.value})},n.editDropDownChange=function(e){n.setState({editDataCity:e})},n.editAgentAddressInp=function(e){n.setState({editDataAddress:e.target.value})},n.editHandleChange=function(e,a){console.log(e,a);var t=[];t.push(a&&a.value),n.setState({editDataBrandId:t})},n.editHandleCancel=function(){n.setState({editVisible:!1})},n.editHandleOk=function(){var e=n.state,a=e.editDataName,t=e.editDataCity,r=e.editDataAddress,l=e.editDataBrandId,d=e.editDataId;a?t?r?(n.setState({spinningStatus:!0,editVisible:!1}),z({id:d,name:a,city:t[0],region:t[1],address:r,brandIds:l}).then((function(e){n.tableListReq(n.agentTableListParams)}))):alert("\u8bf7\u586b\u5199\u5730\u5740"):alert("\u8bf7\u9009\u62e9\u5e02\u533a"):alert("\u8bf7\u8f93\u5165\u5546\u6237\u540d\u79f0")},n.onRef=function(e){n.child=e},n.showModal=function(){n.child.showModal()},n.inpChange1=function(e){n.setState({agentName:e.target.value})},n.inpChange2=function(e){n.setState({agentBrand:e.target.value})},n.dropDownChange=function(e){n.setState({dropdownValue:e})},n.statusDropDownChange=function(e){console.log(e.join("")),n.setState({statusDropdownValue:e.join("")})},n.submitSearchData=function(){var e=n.state,a=e.agentName,t=e.agentBrand,r=e.dropdownValue,l=e.statusDropdownValue;n.agentTableListParams.brandName=t,n.agentTableListParams.agentOutletsName=a,n.agentTableListParams.status=l,n.agentTableListParams.city=r&&r[0],n.agentTableListParams.region=r&&r[1],n.agentTableListParams.pageIndex=1,n.tableListReq(n.agentTableListParams)},n.tableListReq=function(e){n.setState({spinningStatus:!0,consTrCt:!1}),R(e).then((function(a){if(a&&a.data&&a.data.content){var t=a.data.content;t.forEach((function(e,a){e.key="list"+a,e.cityRegion=e.city+e.region,e.do=u.a.createElement("p",null,u.a.createElement("a",{href:"javascript:;",key:a,onClick:n.editData.bind("",e,a,Object(k["a"])(n))},"\u7f16\u8f91"),"\xa0\xa0","1"===e.status?u.a.createElement("a",{href:"javascript:;",key:a,onClick:n.doUse.bind("",e,a,Object(k["a"])(n))},"\u542f\u7528"):u.a.createElement("a",{href:"javascript:;",key:a,onClick:n.doUse.bind("",e,a,Object(k["a"])(n))},"\u505c\u7528")),e.statusTxt="0"===e.status?u.a.createElement(I["a"],{color:"orange"},"\u6b63\u5e38"):u.a.createElement(I["a"],{color:"red"},"\u505c\u7528"),e.level=11===e.level?"\u54c1\u724c\u5382\u5bb6":"--",e.employeesNumber=null===e.employeesNumber?0:e.employeesNumber,e.personNum=u.a.createElement(g["Link"],{to:"/personal/"+e.agentOutletsId,key:a,onClick:n.personNumClick.bind("",e,a,Object(k["a"])(n))},e.employeesNumber),e.brand=[],e.brandList.forEach((function(a,t){e.brand.push(a.brandName+"\n")}))})),console.log(t),n.setState({consTrCt:!0,tableDataSource:t,pageIndex:e.pageIndex,total:a.data.total,spinningStatus:!1})}else O["a"].info({description:"\u6682\u65e0\u6570\u636e",message:"\u6682\u65e0\u6570\u636e"})}))},n.doUse=function(e,a){console.log(e,a);var t,r="0"===e.status?"\u505c\u7528":"\u542f\u7528",l="0"===e.status?"\u505c\u7528\u4f1a\u5bfc\u81f4\u8be5\u5546\u6237\u76f8\u5173\u6240\u6709\u4e1a\u52a1\u4eba\u5458\u8d26\u53f7\u505c\u7528\uff0c\u4e0d\u80fd\u518d\u5904\u7406\u4ee3\u724c\u9500\u552e\u4e1a\u52a1\uff0c\u786e\u8ba4\u8981\u505c\u7528\u5417\uff1f":"\u542f\u7528\u540e\u8be5\u5546\u6237\u5c06\u6062\u590d\u4ee3\u724c\u9500\u552e\u4e1a\u52a1\u76f8\u5173\u529e\u7406\u6743\u9650\uff0c\u786e\u8ba4\u8981\u542f\u7528\u5417\uff1f";n.setState({useOrStopId:e.agentOutletsId,useOrStopVisible:!0,useOrStopTitle:r,useOrStopContent:l,useOrStopIsUse:t,useOrStopStatus:"0"===e.status?"1":"0"})},n.onUseOrStopCheck=function(e,a){console.log(e.target.checked),n.setState({allUseCheck:e.target.checked})},n.useOrStopHandleOk=function(){var e=n.state,a=e.useOrStopId,t=e.useOrStopStatus,r=e.allUseCheck;n.setState({useOrStopVisible:!1,spinningStatus:!0}),J({agentOutletsId:a,status:t,isEnableAccount:r,level:"11"}).then((function(e){console.log(e),n.tableListReq(n.agentTableListParams),"0000"===e.retCode&&O["a"].info({description:"\u63d0\u793a",message:"\u72b6\u6001\u66f4\u65b0\u6210\u529f"})}))},n.useOrStopHandleCancel=function(e){n.setState({useOrStopVisible:!1})},n.reqCityRegion=function(){T().then((function(e){console.log(e),e&&e.data?(n.setState({dropdownData:e.data}),n.props.onSubmit(e.data)):O["a"].error({description:"\u6682\u65e0\u6570\u636e",message:"\u83b7\u53d6\u5730\u533a\u6570\u636e\u5931\u8d25"})}))},n.reqBrand=function(){M().then((function(e){console.log(e),e&&e.data&&(n.brandsList=e.data,n.selectChildrenRender(n.brandsList))}))},n.selectChildrenRender=function(e){return n.selectChildren=[],e.forEach((function(e,a){var t;2===e.agented||(t=u.a.createElement(oe,{key:e.id,disabled:!1},e.brandName)),n.selectChildren.push(t)})),n.setState({selectChildren:n.selectChildren}),e},n.childChangeState=function(){n.setState({spinningStatus:!0})},n.selectChildren=[],n.brandsList=[],n.agentTableListParams={},n.state={dropdownData:[],dropdownValue:"",statusDropdownValue:"",tableDataSource:[],consTrCt:!1,tableColumns:[{title:"\u5546\u6237ID",dataIndex:"agentOutletsId",key:"agentOutletsId"},{title:"\u5546\u6237\u540d\u79f0",dataIndex:"agentOutletsName",key:"agentOutletsName"},{title:"\u7ea7\u522b",dataIndex:"level",key:"level"},{title:"\u5e02\u533a",dataIndex:"cityRegion",key:"cityRegion"},{title:"\u5730\u5740",width:160,dataIndex:"address",key:"address"},{title:"\u4ee3\u7406\u54c1\u724c",dataIndex:"brand",key:"brand"},{title:"\u4eba\u5458\u6570",dataIndex:"personNum",key:"personNum"},{title:"\u72b6\u6001",dataIndex:"statusTxt",key:"statusTxt"},{title:"\u505c\u7528/\u542f\u7528\u65e5\u671f",dataIndex:"updateTime",key:"updateTime",width:150},{title:"\u64cd\u4f5c",dataIndex:"do",key:"do",width:120}],selectChildren:[],editVisible:!1,editDataName:"",editDataCity:[],editDataAddress:"",editDataBrandId:[],agentName:"",agentBrand:"",total:null,pageSize:10,pageIndex:1,onChange:function(e,a){console.log(e,a);var t=n.state,r=t.pageSize,l=t.dropdownValue;n.agentTableListParams={pageIndex:e,pageSize:r,level:11,brandName:n.state.agentBrand,agentOutletsName:n.state.agentName,status:n.state.statusDropdownValue,city:l&&l[0],region:l&&l[1]},n.tableListReq(n.agentTableListParams)},spinningStatus:!0},n}return Object(d["a"])(t,[{key:"componentDidMount",value:function(){this.agentTableListParams={pageIndex:1,pageSize:this.state.pageSize,level:11,brandName:"",agentOutletsName:"",status:this.state.statusDropdownValue,city:"",region:""},console.log("buildtest"),this.tableListReq(this.agentTableListParams),this.reqCityRegion(),this.reqBrand()}},{key:"componentWillUnmount",value:function(){}},{key:"personNumClick",value:function(e,a){console.log(e,a)}},{key:"render",value:function(){var e=this,a=this.state,t=a.dropdownData,n=a.tableDataSource,r=(a.paginationSeting,a.tableColumns),l=(a.visible,a.editDataName),d=a.editDataCity,i=a.editDataAddress,s=a.editDataBrandId,o=a.total,c=a.pageSize,g=a.pageIndex,p=a.onChange,h=a.selectChildren,m=a.spinningStatus,O=a.useOrStopTitle,I=a.useOrStopVisible,k=a.useOrStopContent,D=a.useOrStopIsUse,x=a.consTrCt;return u.a.createElement("div",{className:w.a.agentLevelOneMain},u.a.createElement("div",{className:w.a.searchBox},u.a.createElement("div",{className:w.a.searchBoxItem},u.a.createElement("span",null,"\u5546\u6237\u540d\u79f0\uff1a"),u.a.createElement(S["a"],{onChange:this.inpChange1,className:w.a.inp,placeholder:"\u59d3\u540d",size:"middle"})),u.a.createElement("div",{className:w.a.searchBoxItem},u.a.createElement("span",null,"\u4ee3\u7406\u54c1\u724c\uff1a"),u.a.createElement(S["a"],{onChange:this.inpChange2,className:w.a.inp,placeholder:"\u54c1\u724c\u540d\u79f0",size:"middle"})),u.a.createElement("div",{className:w.a.searchBoxItem},u.a.createElement("span",null,"\u5e02\u533a\uff1a"),u.a.createElement(y["a"],{options:t,expandTrigger:"hover",displayRender:this.displayRender,onChange:this.dropDownChange,className:w.a.inp,placeholder:"\u5168\u90e8"})),u.a.createElement("div",{className:w.a.searchBoxItem},u.a.createElement("span",null,"\u72b6\u6001\uff1a"),u.a.createElement(y["a"],{options:[{label:"\u5168\u90e8",value:""},{label:"\u542f\u7528",value:"0"},{label:"\u505c\u7528",value:"1"}],expandTrigger:"hover",displayRender:this.displayRender,onChange:this.statusDropDownChange,className:w.a.inp,placeholder:"\u5168\u90e8"})),u.a.createElement(C["a"],{className:w.a.sub,onClick:this.submitSearchData,type:"primary",htmlType:"submit"},"\u67e5\u8be2")),u.a.createElement("div",{className:w.a.addAgentBox},u.a.createElement(C["a"],{style:{backgroundColor:"#52c41a",color:"#fff"},className:w.a.btn,icon:u.a.createElement(de["a"],null),onClick:this.showModal},"\u65b0\u589e\u54c1\u724c\u5382\u5bb6")),u.a.createElement(b["a"],{spinning:m},u.a.createElement("div",{className:w.a.tableList},u.a.createElement(v["a"],{dataSource:n,pagination:x&&{total:o,pageSize:c,current:g,onChange:p,showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(a,t){e.setState({pageIndex:a,pageSize:t})}},columns:r}))),t.length>0&&u.a.createElement(le,{onRef:this.onRef,onChangePLoad:this.childChangeState,onAddOk:this.submitSearchData,brandChildren:h,cityRegion:t}),u.a.createElement(f["a"],{title:"\u7f16\u8f91\u54c1\u724c\u5382\u5bb6",visible:this.state.editVisible,onOk:this.editHandleOk,onCancel:this.editHandleCancel,maskClosable:!1},u.a.createElement("div",{className:w.a.editInp},u.a.createElement(S["a"],{className:w.a.editInp,value:l,onChange:this.editAgentNameInp,placeholder:"\u54c1\u724c\u5382\u5bb6\u540d\u79f0"})),u.a.createElement("div",{className:w.a.editInp},u.a.createElement(y["a"],{options:t,expandTrigger:"hover",onChange:this.editDropDownChange,className:w.a.editInp,placeholder:"\u9009\u62e9\u5e02\u533a",value:d})),u.a.createElement("div",{className:w.a.editInp},u.a.createElement(S["a"],{className:w.a.editInp,value:i,onChange:this.editAgentAddressInp,placeholder:"\u54c1\u724c\u5382\u5bb6\u5730\u5740"})),u.a.createElement("div",{className:w.a.editInp},u.a.createElement(E["a"],{allowClear:!0,style:{width:"100%"},placeholder:"\u9009\u62e9\u4ee3\u7406\u54c1\u724c",onChange:this.editHandleChange,value:s},h))),u.a.createElement(f["a"],{title:O,visible:I,onOk:this.useOrStopHandleOk,onCancel:this.useOrStopHandleCancel},u.a.createElement("p",null,k),D))}},{key:"displayRender",value:function(e){return e[e.length-1]}}]),t}(u.a.Component),ue=ce,ge=(t("14J3"),t("BMrR")),pe=(t("jCWc"),t("kPKH")),he=(t("sRBo"),t("kaz8")),me=(t("fu2T"),t("gK9i")),fe=t("MhlQ"),be=t.n(fe),ve=t("K+lB"),Ce=t.n(ve);function ye(e){return function(){var a,t=Object(s["a"])(e);if(Se()){var n=Object(s["a"])(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return Object(i["a"])(this,a)}}function Se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Oe=E["a"].Option,Ie=me["a"].Panel,ke=function(e){Object(o["a"])(t,e);var a=ye(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.deleteAgent=function(e){var a=[],t=n.state.dataSource;t.forEach((function(t){t!==e&&a.push(t)})),n.setState({dataSource:a})},n.handleChange=function(e,a){console.log(e),console.log(a);var t=[],r=[],l=n.state,d=(l.agentBrand,l.agentBrandObjArr),i=JSON.parse(sessionStorage.getItem("allBrandData")).list;a.forEach((function(e,a){e.id||(e.id=e.value),e.name||(e.name=e.children),i.forEach((function(a){e.value===a.id&&(e.allChild=a.children)})),d.forEach((function(a){e.value===a.id&&(e.checkChildName=a.checkChildName,e.checkChildId=a.checkChildId)})),t.push(e.id),r.push({id:e.id,name:e.name,checkChildName:e.checkChildName||[],checkChildId:e.checkChildId||[],allChild:e.allChild||[]})})),n.setState({agentBrand:t,agentBrandObjArr:r})},n.handleOk=function(e){var a=n.state.dataSource;if(0===a.length)return alert("\u6570\u636e\u4e0d\u80fd\u4e3a\u4e3a\u7a7a"),!1;var t=[];a.forEach((function(e,a){var n={name:e.name,city:e.city,region:e.region,address:e.address,brandModelVoList:[]};e.brandModelVoList.forEach((function(e,a){var t=[];e.allChild.forEach((function(a,n){-1!==e.checkChildId.indexOf(a.id)&&t.push(a)})),n.brandModelVoList.push({id:e.id,name:e.name,children:t})})),t.push(n)})),console.log(a),n.initAddPopup(),n.props.onChangePLoad(),Q({list:t}).then((function(e){"0000"===e.retCode&&O["a"].success({description:"\u63d0\u793a",message:"\u6dfb\u52a0\u6210\u529f"}),n.props.onRefresh(n.props.tableReqData)}))},n.handleCancel=function(e){n.initAddPopup()},n.initAddPopup=function(){n.setState({visible:!1,dataSource:[],agentName:"",dropdownValue:[],agentAddress:"",agentBrand:[],agentBrandObjArr:[]})},n.agentBrandClassRender=function(){return console.log(n.state.agentBrandObjArr),u.a.createElement(me["a"],{size:"small",onChange:n.agentBrandCollapseChange,accordion:!0},n.state.agentBrandObjArr.map((function(e,a){return u.a.createElement(Ie,{size:"small",header:u.a.createElement("div",null,u.a.createElement(I["a"],{size:"small",color:"blue",key:a},e.name),e.checkChildName.map((function(e,a){return u.a.createElement(I["a"],{key:a},e)})),u.a.createElement("a",{href:"javascript:;",onClick:function(e){e.stopPropagation()},onMouseDown:n.agentBrandDelete.bind(Object(k["a"])(n),e,a)},"x")),key:a},u.a.createElement(he["a"].Group,{value:e.checkChildId&&e.checkChildId,style:{width:"100%"},onChange:n.checkboxChange},u.a.createElement(ge["a"],null,e.allChild.map((function(e,a){return u.a.createElement(pe["a"],{span:8,key:e.id},u.a.createElement(he["a"],{value:e.id,key:e.id},e.name))})))))})))},n.agentBrandDelete=function(e,a,t){console.log(e,a,t);var r=n.state,l=r.agentBrandObjArr,d=r.agentBrand;l.splice(a,1),d.splice(a,1),console.log(l),n.setState({agentBrand:d,agentBrandObjArr:l},(function(){n.handleChange(d,l)}))},n.agentBrandCollapseChange=function(e){void 0!==e&&(console.log(e),n.collapseIndex=e)},n.checkboxChange=function(e){console.log("checked = ",e),console.log("checked = ",n.collapseIndex);var a=n.state.agentBrandObjArr;a[n.collapseIndex].checkChildName=[],a[n.collapseIndex].checkChildId=[],e.forEach((function(e){a[n.collapseIndex].allChild.forEach((function(a){a.id===e&&(e=a)})),-1===a[n.collapseIndex].checkChildId.indexOf(e.id)&&(a[n.collapseIndex].checkChildName.push(e.name),a[n.collapseIndex].checkChildId.push(e.id))})),console.log(a),n.setState({agentBrandObjArr:a})},n.deleteBrandClass=function(e){console.log(e)},n.addAgentData=function(){if(n.state.agentName)if(n.state.dropdownValue.join(""))if(n.state.agentAddress)if(0!==n.state.agentBrandObjArr.length){var e="",a=!0;if(n.state.agentBrandObjArr.forEach((function(t){if(0===t.checkChildName.length)return a=!1,O["a"].error({description:"\u63d0\u793a",message:"\u5f53\u524d"+t.name+"\u54c1\u724c\u672a\u9009\u62e9\u4ee3\u7406\u578b\u53f7"}),!1;t.children=t.allChild,e+="".concat(t.name,"\uff1a"),t.checkChildName.forEach((function(a,n){n!==t.checkChildName.length-1?e+=a+"\uff0c":e+=a+"\uff1b\n"}))})),!a)return!1;var t={key:"3",agentName:n.state.agentName,cityRegion:n.state.dropdownValue.join(""),address:n.state.agentAddress,agentBrand:e,name:n.state.agentName,city:n.state.dropdownValue[0],region:n.state.dropdownValue[1],brandModelVoList:n.state.agentBrandObjArr},r=n.state.dataSource;r.push(t),console.log(r),n.setState({dataSource:Object(Y["a"])(r),agentName:"",dropdownValue:[],agentAddress:"",agentBrand:[],agentBrandObjArr:[]})}else alert("\u8bf7\u9009\u62e9\u54c1\u724c");else alert("\u8bf7\u8f93\u5165\u5730\u5740");else alert("\u8bf7\u9009\u62e9\u5e02\u533a");else alert("\u8bf7\u8f93\u5165\u5546\u6237\u540d\u79f0")},n.agentNameInp=function(e){n.setState({agentName:e.target.value})},n.agentAddressInp=function(e){n.setState({agentAddress:e.target.value})},n.showModal=function(){n.setState({visible:!0}),console.log(n.state.visible)},n.dropDownChange=function(e){n.setState({dropdownValue:e})},n.collapseIndex=null,n.state={visible:!1,dataSource:[],columns:[{title:"\u5546\u6237\u540d\u79f0",dataIndex:"agentName",key:"agentName",width:100},{title:"\u5e02\u533a",dataIndex:"cityRegion",key:"cityRegion",width:100},{title:"\u5730\u5740",dataIndex:"address",key:"address",width:200},{title:"\u9500\u552e\u54c1\u724c\u578b\u53f7",dataIndex:"agentBrand",key:"agentBrand",width:200},{title:"",key:"do",fixed:"right",width:100,render:function(e,a){return u.a.createElement("a",{onClick:n.deleteAgent.bind(e,a)},u.a.createElement(ee["a"],null))}}],dropdownData:n.props.cityDropdownData,dropdownValue:[],agentName:"",agentAddress:"",agentBrand:[],agentBrandObjArr:[]},n}return Object(d["a"])(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.allBrandData=JSON.parse(sessionStorage.getItem("allBrandData")).list||[],console.log(this.allBrandData);var e=[];this.allBrandData.forEach((function(a,t){e.push(u.a.createElement(Oe,{key:a.id},a.name))})),this.selectChildren=e}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,a=(e.dataSource,e.columns),t=e.dropdownData,n=e.agentName,r=e.agentAddress,l=e.dropdownValue,d=e.agentBrand;return u.a.createElement("div",null,u.a.createElement(f["a"],{title:"\u65b0\u589e\u7ecf\u9500\u5546",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,maskClosable:!1,width:"60%"},u.a.createElement(v["a"],{scroll:{x:600},dataSource:this.state.dataSource,columns:a,pagination:!1}),u.a.createElement("div",null,u.a.createElement("div",{className:Ce.a.addInpInLine},u.a.createElement(S["a"],{className:Ce.a.addInp,value:n,onChange:this.agentNameInp,placeholder:"\u5546\u6237\u540d\u79f0"}),u.a.createElement(y["a"],{options:t,expandTrigger:"hover",onChange:this.dropDownChange,className:Ce.a.addInp2,placeholder:"\u9009\u62e9\u5e02\u533a",value:l})),u.a.createElement(S["a"],{className:Ce.a.addInpAddress,value:r,onChange:this.agentAddressInp,placeholder:"\u5546\u6237\u5730\u5740"}),u.a.createElement(E["a"],{mode:"multiple",style:{width:"100%"},placeholder:"\u9009\u62e9\u4ee3\u7406\u54c1\u724c",onChange:this.handleChange,className:Ce.a.addInpAgentBrand,value:d},this.selectChildren),this.agentBrandClassRender()),u.a.createElement(C["a"],{className:Ce.a.addSubBtn,onClick:this.addAgentData,type:"primary",block:!0,color:"#ccc"},"+ \u6dfb\u52a0")))}},{key:"displayRender",value:function(e){return e[e.length-1]}}]),t}(u.a.Component),Ee=ke;function De(e){return function(){var a,t=Object(s["a"])(e);if(we()){var n=Object(s["a"])(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return Object(i["a"])(this,a)}}function we(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var xe=E["a"].Option,Be=me["a"].Panel,Ne=function(e){Object(o["a"])(t,e);var a=De(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.submitData=function(){var e=n.state,a=(e.agentName,e.cityDropdownValue),t=e.statusDropdownValue;n.data={pageIndex:1,pageSize:n.pageSize,level:12,brandName:"",agentOutletsName:n.state.agentName,city:a[0],region:a[1],status:t[0]},n.reqTableList(n.data)},n.reqTableList=function(e){n.setState({spinningStatus:!0}),R(e).then((function(a){if(a&&a.data&&a.data.content){var t=a.data.content;t.forEach((function(e,a){e.key=a,e.cityRegion=e.city+e.region,e.do=u.a.createElement("div",{key:a},u.a.createElement("a",{href:"javascript:;",onClick:n.editData.bind("",e,a,Object(k["a"])(n))},"\u7f16\u8f91"),"\xa0\xa0","1"===e.status?u.a.createElement("a",{href:"javascript:;",onClick:n.doUse.bind("",e,a,Object(k["a"])(n))},"\u542f\u7528"):u.a.createElement("a",{href:"javascript:;",onClick:n.doUse.bind("",e,a,Object(k["a"])(n))},"\u505c\u7528")),e.level=12===e.level?"\u7ecf\u9500\u5546":"--",e.employeesNumber=null===e.employeesNumber?0:e.employeesNumber,e.personNum=u.a.createElement(g["Link"],{to:"/personal/"+e.agentOutletsId,key:a,onClick:n.personNumClick.bind("",e,a,Object(k["a"])(n))},e.employeesNumber),e.vityRegion=e.city+e.region,e.statusTxt="0"===e.status?u.a.createElement(I["a"],{color:"orange"},"\u6b63\u5e38"):u.a.createElement(I["a"],{color:"red"},"\u505c\u7528"),e.brand=u.a.createElement("a",{href:"javascript:;",onClick:n.showBrandList.bind("",e,a,Object(k["a"])(n))},"\u70b9\u51fb\u67e5\u770b")})),n.setState({tableDataSource:t,pageIndex:e.pageIndex,total:a.data.total,spinningStatus:!1})}else O["a"].info({description:"\u6682\u65e0\u6570\u636e",message:"\u6682\u65e0\u6570\u636e"})}))},n.showBrandList=function(e,a){n.setState({cBrandList:e.brandModelVos,loadStatus:!1,brandModalVisible:!0})},n.editData=function(e,a){console.log(e);var t=n.allBrandData;console.log(n.allBrandData);var r=[],l=[];e.brandModelVos&&e.brandModelVos.forEach((function(e){r.push(e.id),t.forEach((function(a,n){e.id===a.id&&(a.allChild=a.children,a.children=e.children,a.checkedChild=[],a.children.forEach((function(e){a.checkedChild.push(e.id)})),l.push(t[n]))}))})),console.log(l),n.setState({editDataId:e.agentOutletsId,editDataName:e.agentOutletsName,editDataCity:[e.city,e.region],editDataAddress:e.address,editDataBrand:r||[],editAgentBrandObjArr:l||[],editVisible:!0}),n.currentEditData=e},n.doUse=function(e,a){console.log(e,a);var t,r="0"===e.status?"\u505c\u7528":"\u542f\u7528",l="0"===e.status?"\u505c\u7528\u4f1a\u5bfc\u81f4\u8be5\u5546\u6237\u76f8\u5173\u6240\u6709\u4e1a\u52a1\u4eba\u5458\u8d26\u53f7\u505c\u7528\uff0c\u4e0d\u80fd\u518d\u5904\u7406\u4ee3\u724c\u9500\u552e\u4e1a\u52a1\uff0c\u786e\u8ba4\u8981\u505c\u7528\u5417\uff1f":"\u542f\u7528\u540e\u8be5\u5546\u6237\u5c06\u6062\u590d\u4ee3\u724c\u9500\u552e\u4e1a\u52a1\u76f8\u5173\u529e\u7406\u6743\u9650\uff0c\u786e\u8ba4\u8981\u542f\u7528\u5417\uff1f";n.setState({useOrStopId:e.agentOutletsId,useOrStopVisible:!0,useOrStopTitle:r,useOrStopContent:l,useOrStopIsUse:t,useOrStopStatus:"0"===e.status?"1":"0"})},n.onFinishFailed=function(e){console.log("Failed:",e)},n.onFinish=function(e){console.log("Success:",e)},n.onUseOrStopCheck=function(e,a){console.log(e.target.checked),n.setState({allUseCheck:e.target.checked})},n.useOrStopHandleOk=function(){var e=n.state,a=e.useOrStopId,t=e.useOrStopStatus,r=e.allUseCheck;n.setState({useOrStopVisible:!1,spinningStatus:!0}),J({agentOutletsId:a,status:t,isEnableAccount:r,level:"12"}).then((function(e){console.log(e),n.reqTableList(n.data),"0000"===e.retCode&&O["a"].info({description:"\u63d0\u793a",message:"\u72b6\u6001\u66f4\u65b0\u6210\u529f"})}))},n.useOrStopHandleCancel=function(e){n.setState({useOrStopVisible:!1})},n.editAgentNameInp=function(e){n.setState({editDataName:e.target.value})},n.editDropDownChange=function(e){n.setState({editDataCity:e})},n.editAgentAddressInp=function(e){n.setState({editDataAddress:e.target.value})},n.editHandleChange=function(e,a){var t=[],r=[],l=n.state,d=l.editDataBrand,i=l.editAgentBrandObjArr;console.log(e,a,d,i);var s=n.allBrandData;a.forEach((function(e,a){s.forEach((function(a,t){a.id===e.key&&(e.value=a.name,e.allChild=a.children,e.children=[])})),-1!==d.indexOf(e.key)&&(e.children=i[d.indexOf(e.key)].children);var n=[];e.children.forEach((function(e){n.push(e.id)})),t.push(e.key||e.id),r.push({id:e.key||e.id,name:e.value||e.name,children:e.children||[],allChild:Object(Y["a"])(e.allChild),checkedChild:n})})),console.log(t,r),n.setState({editDataBrand:t,editAgentBrandObjArr:r})},n.editHandleCancel=function(){n.allBrandData=JSON.parse(sessionStorage.getItem("allBrandData")).list,n.setState({editVisible:!1})},n.editHandleOk=function(){n.allBrandData=JSON.parse(sessionStorage.getItem("allBrandData")).list;var e=n.state,a=e.editAgentBrandObjArr,t=e.editDataId,r=e.editDataName,l=e.editDataCity,d=e.editDataAddress;if(r)if(l)if(d){var i={id:t,name:r,city:l[0],region:l[1],address:d,brandModelVoList:a};n.setState({editVisible:!1,spinningStatus:!0}),_(i).then((function(e){"0000"===e.retCode&&(O["a"].success({description:"\u63d0\u793a",message:"\u6570\u636e\u4fdd\u5b58\u6210\u529f"}),n.reqTableList(n.data))}))}else alert("\u8bf7\u586b\u5199\u5730\u5740");else alert("\u8bf7\u9009\u62e9\u5e02\u533a");else alert("\u8bf7\u8f93\u5165\u5546\u6237\u540d\u79f0")},n.onRef=function(e){n.child=e},n.showModal=function(){n.child.showModal()},n.inpChange1=function(e){n.setState({agentName:e.target.value})},n.inpChange2=function(e){n.setState({agentBrand:e.target.value})},n.cityDropDownChange=function(e){n.setState({cityDropdownValue:e})},n.statusDropDownChange=function(e){n.setState({statusDropdownValue:e})},n.agentBrandCollapseChange=function(e){void 0!==e&&(console.log(e),n.collapseIndex=e)},n.editAgentBrandClassRender=function(){var e=n.state.editAgentBrandObjArr;return u.a.createElement(me["a"],{onChange:n.agentBrandCollapseChange,accordion:!0},e&&e.map((function(e,a){return u.a.createElement(Be,{header:u.a.createElement("div",null,u.a.createElement(I["a"],{color:"blue",key:e.id},e.name),e.children.map((function(e,a){return u.a.createElement(I["a"],{key:e.id},e.name)})),u.a.createElement("a",{href:"javascript:;",onClick:function(e){e.stopPropagation()},onMouseDown:n.agentBrandDelete.bind(Object(k["a"])(n),e,a)},"x")),key:a},u.a.createElement(he["a"].Group,{style:{width:"100%"},value:e.checkedChild&&e.checkedChild,onChange:n.checkboxChange},u.a.createElement(ge["a"],null,e.allChild.map((function(e,a){return u.a.createElement(pe["a"],{span:8,key:a},u.a.createElement(he["a"],{value:e.id,key:e.id},e.name))})))))})))},n.agentBrandDelete=function(e,a,t){console.log(e,a,t);var r=n.state,l=r.editAgentBrandObjArr,d=r.editDataBrand;l.splice(a,1),console.log(d,l),n.setState({agentBrand:d,agentBrandObjArr:l},(function(){n.editHandleChange(d,l)}))},n.checkboxChange=function(e){console.log("checked = ",e);var a=n.state.editAgentBrandObjArr,t=[],r=[];console.log(a[n.collapseIndex].children),a[n.collapseIndex].allChild.forEach((function(a){-1!==e.indexOf(a.id)&&(t.push(a),r.push(a.id))})),a[n.collapseIndex].children=[].concat(t),a[n.collapseIndex].checkedChild=[].concat(r),n.setState({editAgentBrandObjArr:a})},n.brandModal=function(){var e=n.state,a=e.cBrandList,t=e.loadStatus;return u.a.createElement(f["a"],{title:"\u9500\u552e\u54c1\u724c\u578b\u53f7",closable:!0,visible:n.state.brandModalVisible,footer:null,onCancel:n.brandModalClose},u.a.createElement(me["a"],{onChange:n.lookBrandList,accordion:!0},a&&a.map((function(e,a){return u.a.createElement(Be,{header:e.name,key:e.id},e.children&&e.children.map((function(e,a){return u.a.createElement("p",{key:e.id},e.name)})))}))),t&&u.a.createElement(b["a"],{size:"large"}))},n.brandModalClose=function(){n.setState({brandModalVisible:!1})},n.getAllBrand=function(){K().then((function(e){if(console.log(e),e&&e.data){var a=n.state.selectChildren;n.allBrandData=e.data,sessionStorage.setItem("allBrandData",JSON.stringify({list:e.data}));var t=e.data;t.forEach((function(e,t){a.push(u.a.createElement(xe,{key:e.id,children:e.children},e.name))})),n.setState({selectChildren:a})}else O["a"].error({description:"\u63d0\u793a",message:"\u83b7\u53d6\u6240\u6709\u54c1\u724c\u578b\u53f7\u6570\u636e\u5931\u8d25"})}))},n.childChangeState=function(){n.setState({spinningStatus:!0})},n.collapseIndex=null,n.pageIndex=1,n.pageSize=10,n.data={},n.allBrandData=[],n.state={cityDropdownData:n.props.cityData,statusDropdownData:[{value:"1",label:"\u505c\u7528"},{value:"0",label:"\u542f\u7528"}],agentName:"",cityDropdownValue:[],statusDropdownValue:[],tableDataSource:[],tableColumns:[{title:"\u5546\u6237ID",dataIndex:"agentOutletsId",key:"agentOutletsId"},{title:"\u5546\u6237\u540d\u79f0",dataIndex:"agentOutletsName",key:"agentOutletsName"},{title:"\u7ea7\u522b",dataIndex:"level",key:"level"},{title:"\u5e02\u533a",dataIndex:"cityRegion",key:"cityRegion",width:100},{title:"\u5730\u5740",dataIndex:"address",key:"address",width:200},{title:"\u9500\u552e\u54c1\u724c\u578b\u53f7",dataIndex:"brand",key:"brand",width:150},{title:"\u4eba\u5458\u6570",dataIndex:"personNum",key:"personNum"},{title:"\u72b6\u6001",dataIndex:"statusTxt",key:"statusTxt"},{title:"\u505c\u7528/\u542f\u7528\u65e5\u671f",dataIndex:"updateTime",key:"updateTime",width:150},{title:"\u64cd\u4f5c",dataIndex:"do",key:"do",width:120}],total:null,pageSize:10,pageIndex:1,onChange:function(e,a){console.log(e,a);var t=n.state,r=t.pageSize,l=t.cityDropdownValue,d=t.statusDropdownValue;n.data={pageIndex:e,pageSize:r,level:12,brandName:"",agentOutletsName:n.state.agentName,city:l&&l[0],region:l&&l[1],status:d[0]},n.reqTableList(n.data)},useOrStopVisible:!1,useOrStopTitle:"",useOrStopContent:null,useOrStopId:"",useOrStopStatus:"",allUseCheck:!1,brandModalVisible:!1,cBrandList:[],loadStatus:!0,editVisible:!1,editDataId:null,editDataName:"",editDataCity:[],editDataAddress:"",editDataBrand:[],editAgentBrandObjArr:[],selectChildren:[],spinningStatus:!0},n}return Object(d["a"])(t,[{key:"componentDidMount",value:function(){var e=this.state,a=(e.agentName,e.cityDropdownValue),t=e.statusDropdownValue;this.data={pageIndex:this.pageIndex,pageSize:this.pageSize,level:12,brandName:"",agentOutletsName:this.state.agentName,city:a[0],region:a[1],status:t[0]},this.reqTableList(this.data),this.getAllBrand()}},{key:"componentWillUnmount",value:function(){}},{key:"personNumClick",value:function(e,a){console.log(e,a)}},{key:"render",value:function(){var e=this,a=this.state,t=a.cityDropdownData,n=a.statusDropdownData,r=a.tableDataSource,l=a.tableColumns,d=(a.visible,a.editDataName),i=a.editDataCity,s=a.editDataAddress,o=a.editDataBrand,c=a.total,g=a.pageSize,p=a.pageIndex,h=a.onChange,m=a.useOrStopVisible,O=a.useOrStopTitle,I=a.useOrStopContent,k=a.useOrStopIsUse,D=a.selectChildren,w=a.spinningStatus;return u.a.createElement("div",{className:be.a.agentLevelOneMain},u.a.createElement("div",{className:be.a.searchBox},u.a.createElement("div",{className:be.a.searchBoxItem},u.a.createElement("span",null,"\u5546\u6237\u540d\u79f0\uff1a"),u.a.createElement(S["a"],{onChange:this.inpChange1,className:be.a.inp,placeholder:"\u59d3\u540d",size:"middle"})),u.a.createElement("div",{className:be.a.searchBoxItem},u.a.createElement("span",null,"\u5e02\u533a\uff1a"),u.a.createElement(y["a"],{options:t,expandTrigger:"hover",displayRender:this.displayRender,onChange:this.cityDropDownChange,className:be.a.inp,placeholder:"\u5168\u90e8"})),u.a.createElement("div",{className:be.a.searchBoxItem},u.a.createElement("span",null,"\u72b6\u6001\uff1a"),u.a.createElement(y["a"],{options:n,expandTrigger:"hover",onChange:this.statusDropDownChange,className:be.a.inp,placeholder:"\u5168\u90e8"})),u.a.createElement(C["a"],{className:be.a.sub,onClick:this.submitData,type:"primary",htmlType:"submit"},"\u67e5\u8be2")),u.a.createElement("div",{className:be.a.addAgentBox},u.a.createElement(C["a"],{style:{backgroundColor:"#52c41a",color:"#fff"},className:be.a.btn,icon:u.a.createElement(de["a"],null),onClick:this.showModal},"\u65b0\u589e\u7ecf\u9500\u5546")),u.a.createElement(b["a"],{spinning:w},u.a.createElement("div",{className:be.a.tableList},u.a.createElement(v["a"],{width:"100%",rowKey:"agentOutletsId",dataSource:r,pagination:{total:c,pageSize:g,current:p,onChange:h,showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(a,t){e.setState({pageIndex:a,pageSize:t})}},columns:l}))),D.length>0&&u.a.createElement(Ee,{onRef:this.onRef,onChangePLoad:this.childChangeState,tableReqData:this.data,onRefresh:this.reqTableList,cityDropdownData:t}),u.a.createElement(f["a"],{title:"\u7f16\u8f91\u7ecf\u9500\u5546",visible:this.state.editVisible,onOk:this.editHandleOk,onCancel:this.editHandleCancel,maskClosable:!1},u.a.createElement("div",{className:be.a.editInp},u.a.createElement(S["a"],{className:be.a.editInp,value:d,onChange:this.editAgentNameInp,placeholder:"\u5546\u6237\u540d\u79f0"})),u.a.createElement("div",{className:be.a.editInp},u.a.createElement(y["a"],{options:t,expandTrigger:"hover",onChange:this.editDropDownChange,className:be.a.editInp,placeholder:"\u9009\u62e9\u5e02\u533a",value:i})),u.a.createElement("div",{className:be.a.editInp},u.a.createElement(S["a"],{className:be.a.editInp,value:s,onChange:this.editAgentAddressInp,placeholder:"\u5546\u6237\u5730\u5740"})),u.a.createElement("div",{className:be.a.editInp},u.a.createElement(E["a"],{mode:"multiple",style:{width:"100%"},placeholder:"\u9009\u62e9\u4ee3\u7406\u54c1\u724c",onChange:this.editHandleChange,value:o},D),this.editAgentBrandClassRender())),u.a.createElement(f["a"],{title:O,visible:m,onOk:this.useOrStopHandleOk,onCancel:this.useOrStopHandleCancel},u.a.createElement("p",null,I),k),this.brandModal())}},{key:"displayRender",value:function(e){return e[e.length-1]}}]),t}(u.a.Component),Ae=Ne;function je(e){return function(){var a,t=Object(s["a"])(e);if(Re()){var n=Object(s["a"])(this).constructor;a=Reflect.construct(t,arguments,n)}else a=t.apply(this,arguments);return Object(i["a"])(this,a)}}function Re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Le=function(e){Object(o["a"])(t,e);var a=je(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.handleClick=function(e){n.setState({level_current:e.key})},n.state={level_current:"level_one"},n}return Object(d["a"])(t,[{key:"render",value:function(){var e=this.state,a=e.level_current,t=e.cItyRegion;return u.a.createElement("div",{className:m.a.agentManageMain},u.a.createElement(r["a"],null,u.a.createElement(r["a"].Item,null,u.a.createElement(g["Link"],{to:"/personal/:index"},"\u9996\u9875")," "),u.a.createElement(r["a"].Item,null,"\u5546\u6237\u7ba1\u7406")),u.a.createElement(n["a"],{onClick:this.handleClick,selectedKeys:[this.state.level_current],mode:"horizontal"},u.a.createElement(n["a"].Item,{key:"level_one"},"\u54c1\u724c\u5382\u5bb6"),u.a.createElement(n["a"].Item,{key:"level_tow"},"\u7ecf\u9500\u5546")),"level_one"===a?u.a.createElement(ue,{onSubmit:this.getCItyRegion.bind(this)}):u.a.createElement(Ae,{cityData:t}))}},{key:"getCItyRegion",value:function(e){console.log("data:",e),this.setState({cItyRegion:e})}}]),t}(u.a.Component);a["default"]=Object(p["a"])((function(e){var a=e.login;e.loading,e.code;return{userLogin:a}}))(Le)},"K+lB":function(e,a,t){e.exports={addInpInLine:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInpInLine",addInp:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInp",addInp2:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInp2",addInpAddress:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInpAddress",addInpAgentBrand:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInpAgentBrand",addSubBtn:"antd-pro-pages-agent-manage-agent-level-two-add-add-addSubBtn",agentClass:"antd-pro-pages-agent-manage-agent-level-two-add-add-agentClass"}},MhlQ:function(e,a,t){e.exports={agentLevelOneMain:"antd-pro-pages-agent-manage-agent-level-two-index-agentLevelOneMain",searchBox:"antd-pro-pages-agent-manage-agent-level-two-index-searchBox",inp:"antd-pro-pages-agent-manage-agent-level-two-index-inp",sub:"antd-pro-pages-agent-manage-agent-level-two-index-sub",searchBoxItem:"antd-pro-pages-agent-manage-agent-level-two-index-searchBoxItem",addAgentBox:"antd-pro-pages-agent-manage-agent-level-two-index-addAgentBox",btn:"antd-pro-pages-agent-manage-agent-level-two-index-btn",editInp:"antd-pro-pages-agent-manage-agent-level-two-index-editInp"}},XaiL:function(e,a,t){e.exports={addInpInLine:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInpInLine",addInp:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInp",addInp2:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInp2",addInpAddress:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInpAddress",addInpAgentBrand:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInpAgentBrand",addSubBtn:"antd-pro-pages-agent-manage-agent-level-one-add-add-addSubBtn"}},jTJO:function(e,a,t){e.exports={agentManageMain:"antd-pro-pages-agent-manage-index-agentManageMain",menuBox:"antd-pro-pages-agent-manage-index-menuBox",menuBoxP:"antd-pro-pages-agent-manage-index-menuBoxP",icon:"antd-pro-pages-agent-manage-index-icon",other:"antd-pro-pages-agent-manage-index-other",register:"antd-pro-pages-agent-manage-index-register",main:"antd-pro-pages-agent-manage-index-main"}},ud1q:function(e,a,t){e.exports={agentLevelOneMain:"antd-pro-pages-agent-manage-agent-level-one-index-agentLevelOneMain",searchBox:"antd-pro-pages-agent-manage-agent-level-one-index-searchBox",inp:"antd-pro-pages-agent-manage-agent-level-one-index-inp",sub:"antd-pro-pages-agent-manage-agent-level-one-index-sub",searchBoxItem:"antd-pro-pages-agent-manage-agent-level-one-index-searchBoxItem",addAgentBox:"antd-pro-pages-agent-manage-agent-level-one-index-addAgentBox",btn:"antd-pro-pages-agent-manage-agent-level-one-index-btn",editInp:"antd-pro-pages-agent-manage-agent-level-one-index-editInp"}}}]);