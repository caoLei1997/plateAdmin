(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"H/iU":function(e,t,a){"use strict";a.r(t);var n=a("k1fw"),r=a("tJVT"),i=a("Hx5s"),l=a("q1tI"),c=a.n(l),s=a("9kvl"),o=a("LEhT"),d=(a("Znn+"),a("ZTPi")),u=a("lnZv"),m=a.n(u),p=d["a"].TabPane,b=function(e){var t=e.tabData,a=void 0===t?[]:t,n=e.size,r=void 0===n?"default":n,i=e.tabsChange,l=function(e){i(e)};return c.a.createElement("div",{className:m.a.container},c.a.createElement("div",{id:"components-tabs-demo-basic"},c.a.createElement(d["a"],{defaultActiveKey:"1",onChange:l,size:r},a.map((function(e){return c.a.createElement(p,{tab:e.title,key:e.id},e.component)})))))},g=(a("g9YV"),a("wCAj")),f=a("0Owb"),E=a("55Ip"),y=a("K6AL"),I=a("nQOV"),v=a.n(I),h={x:1e3},L=[{title:"\u7533\u8bf7\u65e5\u671f",dataIndex:"lastImageInputtedDate",key:"lastImageInputtedDate"},{title:"\u7ecf\u9500\u5546",dataIndex:"agentOutletsName",key:"agentOutletsName"},{title:"\u5e02\u533a",dataIndex:"agentOutletsCity",key:"agentOutletsCity"},{title:"\u8f66\u8f86\u54c1\u724c",dataIndex:"brandName",key:"brandName"},{title:"\u8f66\u8f86\u578b\u53f7",dataIndex:"modelName",key:"modelName"},{title:"\u6574\u8f66\u7f16\u7801SN",dataIndex:"electrombileNumber",key:"electrombileNumber"},{title:"ccc\u8bc1\u4e66\u7f16\u7801",dataIndex:"cccCertificateNumber",key:"cccCertificateNumber"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"auditStatus",key:"auditStatus",width:80,render:function(e){var t=y["b"].filter((function(t){return t.key===e}))||[];return t.length&&c.a.createElement("span",{className:"font-".concat(t[0].color)},t[0].val)}},{title:"\u5ba1\u6838\u65e5\u671f",dataIndex:"auditedAt",key:"auditedAt"},{title:"\u4e0d\u901a\u8fc7\u539f\u56e0",dataIndex:"notPassReason",key:"notPassReason"},{title:"\u64cd\u4f5c",dataIndex:"id",key:"id",fixed:"right",render:function(e){return c.a.createElement(E["a"],{to:"/carmanage/basic/details/".concat(e)},"\u67e5\u770b\u8be6\u60c5")}}],D=function(e){var t=e.meansListState,a=e.tableLoading,i=e.paginationChange,s=(e.getList,t.total),o=t.current,d=t.pageSize,u=t.list,m=Object(l["useState"])([d]),p=Object(r["a"])(m,2),b=p[0];p[1];console.log(d);var E=function(e,a){i(e,!1,Object(n["a"])(Object(n["a"])({},t.filter),{},{pageSize:a[0],pageIndex:e}))},y={rowKey:"id",columns:L,scroll:h,pagination:{total:s,current:o,pageSize:b,onChange:E,showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,showQuickJumper:!0},dataSource:u};return c.a.createElement("div",{className:v.a.container},c.a.createElement("div",{id:"components-table-demo-basic"},c.a.createElement(g["a"],Object(f["a"])({key:(new Date).getTime(),loading:a},y))))},N=Object(s["connect"])((function(e){var t=e.meansList,a=e.loading;return{meansListState:t,tableLoading:a.effects["meansList/getList"]}}))(D),x=(a("+L6B"),a("2/Rp")),O=(a("miYZ"),a("tsqr")),S=a("zXdt"),k=a("xvlK"),j=a("jzII"),C=a.n(j),Y={x:1e3},w=[{title:"\u5e8f\u53f7",dataIndex:"plateNumberApplyId",key:"plateNumberApplyId"},{title:"\u7ecf\u9500\u5546",dataIndex:"secondaryAgentOutletsName",key:"secondaryAgentOutletsName"},{title:"\u8f66\u8f86\u54c1\u724c",dataIndex:"brandName",key:"brandName"},{title:"\u8f66\u8f86\u578b\u53f7",dataIndex:"modelName",key:"modelName"},{title:"\u6574\u8f66\u7f16\u7801SN",dataIndex:"electrombileNumber",key:"electrombileNumber"},{title:"\u8f66\u724c\u5e8f\u53f7",dataIndex:"prefix",key:"prefix"},{title:"\u8f66\u724c\u53f7",dataIndex:"plateNumberCode",key:"plateNumberCode"},{title:"\u7528\u9014",dataIndex:"electrombileUsageStr",key:"electrombileUsageStr"},{title:"\u5206\u914d\u65e5\u671f",dataIndex:"distributionDate",key:"distributionDate"}],z=function(e){var t=e.distributeListState,a=e.tableLoading,i=e.paginationChange,s=t.total,o=t.current,d=t.pageSize,u=t.list;console.log("distributeListState: ",t);var m=Object(l["useState"])([d]),p=Object(r["a"])(m,2),b=p[0],E=p[1],y=function(e,a){console.log(111),console.log("filter",t.filter),i(e,!1,Object(n["a"])(Object(n["a"])({},t.filter),{},{pageIndex:e,pageSize:a[0]}))},I=function(){if(!u||0===u.length)return O["b"].warning("\u6ca1\u6709\u53f7\u724c\u5206\u914d\u6570\u636e\u53ef\u4ee5\u5bfc\u51fa"),!1;S["a"].exportExcel(w,u,"\u53f7\u724c\u5206\u914d\u8868.xlsx")},v={rowKey:"id",columns:w,pagination:{total:s,current:o,pageSize:b,onChange:y,showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(e,t){E(t)}},scroll:Y,dataSource:u};return c.a.createElement("div",{className:C.a.container},c.a.createElement("div",{id:"components-table-demo-basic"},c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement(x["a"],{type:"primary",className:"btn-green mb-24",icon:c.a.createElement(k["a"],null),onClick:I},"\u5bfc\u51fa\u5206\u914d\u8868")),c.a.createElement(g["a"],Object(f["a"])({loading:a},v))))},A=Object(s["connect"])((function(e){var t=e.distributeList,a=e.loading;return{distributeListState:t,tableLoading:a.effects["distributeList/getList"]}}))(z),M=(a("14J3"),a("BMrR")),T=(a("6UJt"),a("DFOY")),P=(a("jCWc"),a("kPKH")),Q=(a("5NDa"),a("5rEg")),F=(a("y8nQ"),a("Vl3Y")),R=(a("iQDF"),a("+eQT")),V=(a("OaEy"),a("2fM7")),J=a("Q6aD"),K=a.n(J),B=a("+n12"),H=V["a"].Option,q=R["a"].RangePicker,U=function(e){var t=e.dispatch,a=e.meansListState,n=e.userInfo,i=e.subDealerList,s=e.distributeList,o=e.subDealerListLoading;console.log("userInfo: ",n);var d=F["a"].useForm(),u=Object(r["a"])(d,1),m=u[0];function p(e){var a=Object(r["a"])(e,2),i=a[0],l=void 0===i?"":i,c=a[1],s=void 0===c?"":c;t({type:"subDealer/getList",payload:{agentOutletsId:n.firstId,city:l||"",region:s||""}}),m.setFieldsValue({secondDealer:""})}Object(l["useEffect"])((function(){t({type:"subDealer/getList",payload:{agentOutletsId:n.firstId,city:"",region:""}})}),[]),Object(l["useEffect"])((function(){t({type:"distributeList/requestGetCity",payload:{agentOutletsId:n.id}})}),[]),console.log(s);var b=function(){return c.a.createElement(M["a"],{gutter:24},c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u6574\u8f66\u7f16\u7801SN",name:"SNCode"},c.a.createElement(Q["a"],{placeholder:"\u6574\u8f66\u7f16\u7801SN"}))),"vip"!=n["antd-pro-authority"]&&c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u8f66\u8f86\u54c1\u724c",name:"carBrand"},c.a.createElement(Q["a"],{placeholder:"\u8f66\u8f86\u54c1\u724c"}))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u8f66\u8f86\u578b\u53f7",name:"carModel"},c.a.createElement(Q["a"],{placeholder:"\u8f66\u8f86\u578b\u53f7"}))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u5ba1\u6838\u72b6\u6001",name:"status"},c.a.createElement(V["a"],{placeholder:"\u5ba1\u6838\u72b6\u6001"},c.a.createElement(H,{value:""},"\u5168\u90e8"),c.a.createElement(H,{value:"2"},"\u4e0d\u901a\u8fc7"),c.a.createElement(H,{value:"1"},"\u5df2\u5b8c\u6210"),c.a.createElement(H,{value:"0"},"\u5f85\u5ba1\u6838")))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u5e02\u533a",name:"address"},c.a.createElement(T["a"],{options:Object(B["a"])(s.city),onChange:p,placeholder:"\u8bf7\u9009\u62e9\u5e02\u533a",expandTrigger:"hover"}))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u7ecf\u9500\u5546",name:"secondDealer"},c.a.createElement(V["a"],{placeholder:"\u7ecf\u9500\u5546",loading:o,disabled:o},c.a.createElement(H,{value:""},"\u5168\u90e8"),i.map((function(e){return c.a.createElement(H,{key:e.id,value:e.id},e.name)}))))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u7533\u8bf7\u65e5\u671f",name:"applyDate"},c.a.createElement(q,null))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u5ba1\u6838\u65e5\u671f",name:"date"},c.a.createElement(q,null))))},g=function(e){t({type:"meansList/getList",payload:{agentOutletsId:n.firstId,account:n.phone,pageIndex:1,pageSize:a.pageSize,electrombileNumber:e.SNCode,brandName:e.carBrand,modelName:e.carModel,auditStatus:e.status,secondaryAgentOutletsId:e.secondDealer?[e.secondDealer]:[],startApplicationDate:e.applyDate?e.applyDate[0].format("YYYY-MM-DD"):"",endApplicationDate:e.applyDate?e.applyDate[1].format("YYYY-MM-DD"):"",startAuditedAt:e.date?e.date[0].format("YYYY-MM-DD"):"",endAuditedAt:e.date?e.date[1].format("YYYY-MM-DD"):"",city:e.address?e.address[0]:"",region:e.address&&e.address[1]?e.address[1]:"",versionType:"general"}})},f=function(e){console.log("fail",e)},E={secondDealer:"",address:[""],status:""};return c.a.createElement(F["a"],{className:"ant-advanced-search-form",name:"car-manage-form-search",form:m,onFinish:g,onFinishFailed:f,initialValues:E},b(),c.a.createElement(M["a"],null,c.a.createElement(P["a"],{span:24,style:{textAlign:"right"}},c.a.createElement(x["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"))))},Z=Object(s["connect"])((function(e){var t=e.meansList,a=e.login,n=e.subDealer,r=e.distributeList,i=e.loading;return{meansListState:t,userInfo:a,subDealerList:n.list,distributeList:r,subDealerListLoading:i.effects["subDealer/getList"]}}))(U),G=function(e){var t=e.children;return c.a.createElement("div",{className:K.a.container},c.a.createElement("div",{id:"components-form-demo-advanced-search"},c.a.createElement("div",null,c.a.createElement(Z,null),c.a.createElement("div",{className:"search-result-list"},t))))},X=a("ItmQ"),W=a.n(X),$=V["a"].Option,_=R["a"].RangePicker,ee=function(e){var t=e.dispatch,a=e.distributeListState,n=e.userInfo,r=e.subDealerList,i=e.platePrefixList;Object(l["useEffect"])((function(){t({type:"platePrefix/getList"})}),[]),Object(l["useEffect"])((function(){t({type:"subDealer/getList",payload:{agentOutletsId:n.firstId}})}),[]);var s=function(){return c.a.createElement(M["a"],{gutter:24},c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u7ecf\u9500\u5546",name:"secondDealer"},c.a.createElement(V["a"],{placeholder:"\u7ecf\u9500\u5546"},r.length&&c.a.createElement($,{value:""},"\u5168\u90e8"),r.map((function(e){return c.a.createElement($,{key:e.id,value:e.id},e.name)}))))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u6574\u8f66\u7f16\u7801SN",name:"SNCode"},c.a.createElement(Q["a"],{placeholder:"\u6574\u8f66\u7f16\u7801SN"}))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u8f66\u724c\u5e8f\u53f7",name:"platePrefix"},c.a.createElement(V["a"],{placeholder:"\u8f66\u724c\u5e8f\u53f7"},i.map((function(e){return c.a.createElement($,{key:e,value:e},e)}))))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u8f66\u724c\u53f7",name:"plateNumber"},c.a.createElement(Q["a"],{placeholder:"\u8f66\u724c\u53f7"}))),c.a.createElement(P["a"],{span:8},c.a.createElement(F["a"].Item,{label:"\u5206\u914d\u65e5\u671f",name:"date"},c.a.createElement(_,null))))},o=function(e){t({type:"distributeList/getList",payload:{agentOutletsId:n.firstId,account:n.phone,pageIndex:1,pageSize:a.pageSize,secondaryAgentOutletsId:e.secondDealer,electrombileNumber:e.SNCode,prefix:e.platePrefix,plateNumberCode:e.plateNumber,startDistributionDate:e.date?e.date[0].format("YYYY-MM-DD"):"",endDistributionDate:e.date?e.date[1].format("YYYY-MM-DD"):""}})};return c.a.createElement(F["a"],{className:"ant-advanced-search-form",name:"car-manage-form-search",onFinish:o,initialValues:{secondDealer:""}},s(),c.a.createElement(M["a"],{Row:!0},c.a.createElement(P["a"],{span:24,style:{textAlign:"right"}},c.a.createElement(x["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"))))},te=Object(s["connect"])((function(e){var t=e.distributeList,a=e.login,n=e.subDealer,r=e.platePrefix;return{distributeListState:t,userInfo:a,subDealerList:n.list,platePrefixList:r.list}}))(ee),ae=function(e){var t=e.children;return c.a.createElement("div",{className:W.a.container},c.a.createElement("div",{id:"components-form-demo-advanced-search"},c.a.createElement("div",null,c.a.createElement(te,null),c.a.createElement("div",{className:"search-result-list mt-32"},t))))},ne=(a("2qtc"),a("kLXV")),re=(a("IzEo"),a("bx4M")),ie=(a("aHsQ"),a("sGsY")),le=(a("tU7J"),a("wFql")),ce=a("Ybbr"),se=a.n(ce),oe=le["a"].Title,de=Q["a"].Search,ue=[{title:"\u8f66\u724c\u53f7",dataIndex:"plateNumber",key:"plateNumber"}],me=function(e){var t=e.census,a=e.dispatch,n=e.userInfo,i=e.surplus,s=e.tableLoading,o=i.total,d=i.list,u=i.current,m=i.pageSize,p=Object(l["useState"])(!1),b=Object(r["a"])(p,2),f=b[0],E=b[1],y=function(e){E(e)},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a({type:"surplus/getList",payload:{agentOutletsId:n.firstId,pageIndex:e,pageSize:i.pageSize,plateNumber:t}})},v=function(){I(1),y(!0)},h=function(e){I(e)},L={columns:ue,dataSource:d,rowKey:"id",pagination:{total:o,current:u,pageSize:m,onChange:h},loading:s},D=function(e){I(1,e)};return c.a.createElement("div",{className:se.a.container},c.a.createElement(re["a"],{style:{width:600}},c.a.createElement(M["a"],null,c.a.createElement(P["a"],{span:12,className:"total item-wrap"},c.a.createElement(ie["a"],{title:"\u5df2\u5206\u914d\u603b\u6570",value:t.distributionNumber})),c.a.createElement(P["a"],{span:12,className:"total item-wrap"},c.a.createElement("span",{onClick:v},c.a.createElement(ie["a"],{title:"\u5269\u4f59\u5e93\u5b58\u603b\u6570",value:t.residualInventoryNumber,valueStyle:{textDecoration:"underline",color:"#1890ff"}}))))),c.a.createElement(ne["a"],{title:"\u53f7\u724c\u5e93\u5b58",visible:f,footer:null,onCancel:function(){return y(!1)}},c.a.createElement(oe,{level:4,className:"mb-16"},"\u5269\u4f59\u5e93\u5b58\u603b\u6570\uff1a",t.residualInventoryNumber),c.a.createElement(de,{className:"mb-16",placeholder:"\u641c\u7d22\u8f66\u724c\u53f7",onSearch:D,enterButton:!0}),c.a.createElement(g["a"],L)))},pe=Object(s["connect"])((function(e){var t=e.distributeList,a=e.login,n=e.surplus,r=e.loading;return{census:t.census,userInfo:a,surplus:n,tableLoading:r.effects["surplus/getList"]}}))(me),be=a("RHow"),ge=a.n(be),fe=(a("LxC5"),[{title:"\u5206\u914d\u7edf\u8ba1",id:2,component:c.a.createElement(pe,null)}]),Ee=function(e){var t=e.getMeansList,a=e.getDistributeList;return[{title:"\u8d44\u6599\u5ba1\u6838",id:1,component:c.a.createElement(G,null,c.a.createElement(N,{paginationChange:t}))},{title:"\u5206\u914d\u660e\u7ec6",id:2,component:c.a.createElement("div",null,c.a.createElement(b,{size:"large",tabData:fe}),c.a.createElement(b,{size:"large",tabData:[{title:"\u53f7\u724c\u5206\u914d",id:2,component:c.a.createElement(ae,null,c.a.createElement(A,{paginationChange:a}))}]}))}]},ye=function(e){var t=e.dispatch,a=e.means,s=e.meansListState,d=e.userInfo,u=e.distributeListState,m=Object(l["useState"])("1"),p=Object(r["a"])(m,2),g=p[0],f=p[1],E=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(n["a"])({},s.filter);t({type:"meansList/getList",payload:Object(n["a"])({agentOutletsId:a||d.firstId,account:d.phone,pageIndex:e,pageSize:s.pageSize,secondaryAgentOutletsId:[],versionType:"general"},r)}),t({type:"subDealer/getList",payload:{agentOutletsId:a||d.firstId}})},y=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t({type:"distributeList/getList",payload:Object(n["a"])(Object(n["a"])({agentOutletsId:a||d.firstId,account:d.phone,pageIndex:e,pageSize:u.pageSize,secondaryAgentOutletsId:"",electrombileNumber:"",prefix:"",plateNumberCode:"",startDistributionDate:"",endDistributionDate:""},u.filter),r)}),t({type:"distributeList/getCensus",payload:{account:d.phone,agentOutletsId:a||d.firstId}}),t({type:"subDealer/getList",payload:{agentOutletsId:a||d.firstId}})};Object(l["useLayoutEffect"])((function(){E(1,!1,{})}),[]);var I=function(e,t){switch(e){case"1":E(s.current,t);break;case"2":y(u.current,t);break;default:return!1}},v=function(e){f(e),I(e)},h=function(e){I(g,e)};return c.a.createElement(i["b"],{className:ge.a.main},c.a.createElement(o["a"],{changeCallBack:h}),c.a.createElement(b,{tabData:Ee({means:a,getMeansList:E,getDistributeList:y}),tabsChange:v}))};t["default"]=Object(s["connect"])((function(e){var t=e.login,a=e.meansList,n=e.distributeList;return{userInfo:t,meansListState:a,distributeListState:n}}))(ye)},ItmQ:function(e,t,a){e.exports={container:"antd-pro-pages-car-manage-components-distribute-form-search-index-container"}},Q6aD:function(e,t,a){e.exports={container:"antd-pro-pages-car-manage-components-means-form-search-index-container"}},RHow:function(e,t,a){e.exports={main:"antd-pro-pages-car-manage-index-main"}},Ybbr:function(e,t,a){e.exports={container:"antd-pro-pages-car-manage-components-card-census-basic-index-container"}},jzII:function(e,t,a){},lnZv:function(e,t,a){e.exports={container:"antd-pro-pages-car-manage-components-tabs-basic-index-container"}},nQOV:function(e,t,a){}}]);