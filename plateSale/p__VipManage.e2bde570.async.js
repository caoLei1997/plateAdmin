(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{aKlt:function(e,t,a){"use strict";a.r(t);a("g9YV");var n=a("wCAj"),r=(a("5NDa"),a("5rEg")),l=(a("miYZ"),a("tsqr")),i=a("WmNS"),c=a.n(i),o=a("9og8"),m=(a("P2fV"),a("NJEC")),u=(a("+L6B"),a("2/Rp")),s=a("tJVT"),d=(a("OaEy"),a("2fM7")),p=(a("iQDF"),a("+eQT")),f=(a("y8nQ"),a("Vl3Y")),v=a("q1tI"),E=a.n(v),g=a("9kvl"),b=a("wd/R"),y=a.n(b),h=a("xvlK"),k=a("Hx5s"),w=f["a"].Item,S=f["a"].useForm,O=p["a"].RangePicker,x=d["a"].Option,N=function(e){var t=e.add,a=e.vipDelete,i=e.vipList,p=e.brandList,g=e.vipState,b=S(),N=Object(s["a"])(b,1),I=N[0],Y=[{title:"\u5546\u6237\u540d\u79f0",dataIndex:"agentOutletsName",key:"agentOutletsName"},{title:"\u4ee3\u7406\u54c1\u724c",dataIndex:"brandName",key:"brandName"},{title:"\u6dfb\u52a0\u65e5\u671f",dataIndex:"createdAt",key:"createdAt"},{title:"\u64cd\u4f5c",render:function(e){var t=e.id;return E.a.createElement(m["a"],{placement:"top",title:"\u79fb\u9664\u540e\u8be5\u54c1\u724c\u5382\u5bb6\u5c06\u4e0d\u5728\u6709VIP\u901a\u9053\u6743\u9650,\u786e\u8ba4\u8981\u79fb\u9664\u4e48\uff1f",onConfirm:function(){return F(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},E.a.createElement(u["a"],{type:"link"},"\u79fb\u9664"))}}],j=function(e,t){L(e-1,t)},T=g.total,C=g.list,D=g.pageIndex,V=g.pageSize,A={total:T,pageSize:V,showSizeChanger:!0,showQuickJumper:!0,current:D+1,onChange:j,showTotal:function(e){return"\u5171".concat(e,"\u6761")}},L=function(){var e=Object(o["a"])(c.a.mark((function e(){var t,a,n,r,l,o,m=arguments;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:0,a=m.length>1&&void 0!==m[1]?m[1]:10,e.next=4,I.getFieldsValue();case 4:n=e.sent,r=n.time&&y()(n.time[0]).format("YYYY-MM-DD"),l=n.time&&y()(n.time[1]).format("YYYY-MM-DD"),o={pageIndex:t,pageSize:a,createdAtStart:r,createdAtEnd:l,agentOutletsName:n.agentOutletsName},i(o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(v["useEffect"])((function(){L()}),[]);var P=function(){L()},F=function(e){var t=function(){L(D,V)};a(e,t)},J=Object(v["useState"])(!1),M=Object(s["a"])(J,2),z=M[0],Q=M[1],B=Object(v["useState"])(null),K=Object(s["a"])(B,2),R=K[0],q=K[1],H=function(){Q(!1),q(null)},W=function(){if(null!==R&&void 0!==R&&!1!==R){var e=function(){H(),L()},a={agentOutletsId:R,versionType:"vip"};t(a,e)}else l["b"].error("\u8bf7\u9009\u62e9\u5546\u6237")};return E.a.createElement(k["b"],{className:"mains",title:"VIP\u7ba1\u7406",breadcrumb:{}},E.a.createElement(f["a"],{layout:"inline",form:I,onFinish:P},E.a.createElement(w,{label:"\u5546\u6237\u540d\u79f0",name:"agentOutletsName"},E.a.createElement(r["a"],{placeholder:"\u5546\u6237\u540d\u79f0"})),E.a.createElement(w,{label:"\u9009\u62e9\u65e5\u671f",name:"time"},E.a.createElement(O,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]})),E.a.createElement(w,null,E.a.createElement(u["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"))),E.a.createElement("div",{className:"mt-16"}),E.a.createElement(n["a"],{rowKey:"id",columns:Y,dataSource:C,pagination:A}),E.a.createElement("div",{className:"mt-16"}),!1===z&&E.a.createElement(u["a"],{block:!0,icon:E.a.createElement(h["a"],null),style:{textAlign:"left",marginBottom:32},onClick:function(){return Q(!0)}},"\u6dfb\u52a0"),z&&E.a.createElement("div",{style:{paddingBottom:32}},E.a.createElement(d["a"],{showSearch:!0,style:{width:"100%"},placeholder:"\u8f93\u5165\u5546\u6237\u540d\u79f0\u68c0\u7d22",optionFilterProp:"children",onSelect:function(e){return q(e)}},p&&p.map((function(e){return E.a.createElement(x,{key:e.id,value:e.id},e.name)}))),E.a.createElement("div",{className:"mt-16"}),E.a.createElement("div",{style:{textAlign:"right"}},E.a.createElement(u["a"],{onClick:H,className:"mr-8"},"\u53d6\u6d88"),E.a.createElement(m["a"],{placement:"top",title:"\u4fdd\u5b58\u540e\u8be5\u54c1\u724c\u5382\u5bb6\u5c06\u62e5\u6709\u4f7f\u7528VIP\u901a\u9053\u7684\u6743\u9650,\u786e\u5b9a\u8981\u6dfb\u52a0\u4e48?",onConfirm:W,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},E.a.createElement(u["a"],null,"\u4fdd\u5b58")))))},I=function(e){return{brandList:e.cityList.brands,vipState:e.vipState}},Y={add:function(e,t){return{type:"vipState/add",payload:e,callback:t}},vipDelete:function(e,t){return{type:"vipState/delete",payload:e,callback:t}},vipList:function(e){return{type:"vipState/vipList",payload:e}}};t["default"]=Object(g["connect"])(I,Y)(N)}}]);