(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"91es":function(e,a,t){"use strict";t.r(a);t("lUTK");var n=t("BvKs"),d=(t("sPJy"),t("bE4q")),l=t("fWQN"),r=t("mtLc"),i=t("yKVA"),s=t("879j"),o=t("q1tI"),c=t.n(o),u=t("55Ip"),g=t("9kvl"),p=t("jTJO"),h=t.n(p),m=(t("2qtc"),t("kLXV")),b=(t("T2oS"),t("W9HT")),f=(t("g9YV"),t("wCAj")),v=(t("+L6B"),t("2/Rp")),C=(t("6UJt"),t("DFOY")),S=(t("y8nQ"),t("Vl3Y")),y=(t("5NDa"),t("5rEg")),O=(t("sRBo"),t("kaz8")),k=(t("/xke"),t("TeRw")),I=t("oBTY"),E=(t("+BJd"),t("mr32")),w=t("tS8v"),x=(t("OaEy"),t("2fM7")),B=t("ud1q"),D=t.n(B),N=t("WmNS"),A=t.n(N),j=t("9og8"),L=t("t3Un"),V=t("LZAR");function T(e){return R.apply(this,arguments)}function R(){return R=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/pageList/brand",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function M(e){return P.apply(this,arguments)}function P(){return P=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/pageList",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function z(e){return q.apply(this,arguments)}function q(){return q=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/DealerPersonnel/getCityTree",{method:"GET"}));case 1:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function U(e){return H.apply(this,arguments)}function H(){return H=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/getAllBrands",{method:"GET",data:a}));case 1:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function J(e){return F.apply(this,arguments)}function F(){return F=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/editFirstAgent",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function _(e){return K.apply(this,arguments)}function K(){return K=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/addFirstAgent",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function W(e){return G.apply(this,arguments)}function G(){return G=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/enableAgentAndAccount",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function Q(e){return Y.apply(this,arguments)}function Y(){return Y=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/getSecondAgentSellBrandAndModel?".concat(a&&Object(V["b"])(a)),{method:"GET"}));case 1:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return Z=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/updateSecondAgent",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return ee=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/addSecondAgent",{method:"POST",data:a}));case 1:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function ae(){return te.apply(this,arguments)}function te(){return te=Object(j["a"])(A.a.mark((function e(){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/getAllBrands",{method:"GET"}));case 1:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e){return de.apply(this,arguments)}function de(){return de=Object(j["a"])(A.a.mark((function e(a){return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return",Object(L["a"])("/manager/v1.1/RelAgentOutletsBrand/getSecondAgentSellBrandAndModel?agentOutletsId=".concat(a),{method:"GET"}));case 2:case 3:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}var le=t("XaiL"),re=t.n(le),ie=t("4i/N"),se=x["a"].Option,oe=function(e){Object(i["a"])(t,e);var a=Object(s["a"])(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.deleteAgent=function(e){var a=[],t=n.state.dataSource;t.forEach((function(t){t!==e&&a.push(t)})),n.setState({dataSource:a})},n.handleChange=function(e,a){console.log(a);var t=[],d=[];t.push(a.children),d.push(a.value),n.setState({agentBrand:t,brandIds:d})},n.handleOk=function(e){if(0===n.state.dataSource)return alert("\u6570\u636e\u4e0d\u80fd\u4e3a\u4e3a\u7a7a"),!1;n.initAddPopup(),n.props.onChangePLoad(),_({list:n.state.dataSource}).then((function(e){console.log(e),e&&e.data&&(k["a"].success({description:"\u63d0\u793a",message:"\u6dfb\u52a0\u6210\u529f"}),n.props.onAddOk())}))},n.handleCancel=function(e){n.initAddPopup()},n.initAddPopup=function(){n.setState({visible:!1,dataSource:[],agentName:"",agentAddress:"",agentBrand:[],brandIds:[],checked:!1})},n.checkAddData=function(){n.state.agentName?n.state.dropdownValue.join("")?n.state.agentAddress?0!==n.state.agentBrand.length?n.updateAddList():alert("\u8bf7\u9009\u62e9\u54c1\u724c"):alert("\u8bf7\u8f93\u5165\u5730\u5740"):alert("\u8bf7\u9009\u62e9\u5e02\u533a"):alert("\u8bf7\u8f93\u5165\u5546\u6237\u540d\u79f0")},n.updateAddList=function(){var e={key:n.key,name:n.state.agentName,city:n.state.dropdownValue[0],region:n.state.dropdownValue[1],address:n.state.agentAddress,agentBrand:n.state.agentBrand,brandIds:n.state.brandIds},a=n.state.dataSource;a.push(e),n.setState({dataSource:Object(I["a"])(a),agentName:"",dropdownValue:[],agentAddress:"",agentBrand:[],brandIds:[]},n.brandsListSet),n.key++},n.brandsListSet=function(){var e=n.state.dataSource,a=[];e.forEach((function(e,t){a=a.concat(e.brandIds)}));var t=[];n.brandsList.forEach((function(e,n){-1!==a.indexOf(e.id)&&(e.agented=2),t.push(e)})),n.selectChildrenRender(t)},n.agentNameInp=function(e){n.setState({agentName:e.target.value})},n.agentAddressInp=function(e){n.setState({agentAddress:e.target.value})},n.showModal=function(){n.setState({visible:!0}),console.log(n.state.visible)},n.dropDownChange=function(e){console.log(e),n.setState({dropdownValue:e})},n.reqBrand=function(){U().then((function(e){console.log(e),e&&e.data?(n.brandsList=e.data,n.selectChildrenRender(e.data)):alert("\u54c1\u724c\u4fe1\u606f\u83b7\u53d6\u5931\u8d25")}))},n.selectChildrenRender=function(e){console.log(e);var a=[];e.forEach((function(e,t){var n;2===e.agented||(n=c.a.createElement(se,{key:e.id,disabled:!1},e.brandName)),a.push(n)})),n.setState({brandChildren:a})},n.brandsList=[],n.key=0,n.state={visible:!1,dataSource:[],columns:[{title:"\u5546\u6237\u540d\u79f0",dataIndex:"name",key:"name",width:100},{title:"\u5e02\u533a",dataIndex:"city",key:"city",width:100},{title:"\u5730\u5740",dataIndex:"address",key:"address",width:200},{title:"\u4ee3\u7406\u54c1\u724c",dataIndex:"agentBrand",key:"agentBrand",width:200},{title:"",key:"do",fixed:"right",width:100,render:function(e,a){return c.a.createElement("a",{onClick:n.deleteAgent.bind(e,a)},c.a.createElement(ie["a"],null))}}],dropdownData:n.props.cityRegion,dropdownValue:[],agentName:"",agentAddress:"",agentBrand:[],brandChildren:[],brandIds:[]},n}return Object(r["a"])(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.onRef(this),this.reqBrand()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,a=e.dataSource,t=e.columns,n=e.dropdownData,d=e.agentName,l=e.agentAddress,r=e.dropdownValue,i=(e.agentBrand,e.brandChildren),s=e.brandIds;return c.a.createElement("div",null,c.a.createElement(m["a"],{title:"\u65b0\u589e\u54c1\u724c\u5382\u5bb6",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,maskClosable:!1,width:"60%"},c.a.createElement(f["a"],{scroll:{x:600},dataSource:a,columns:t,pagination:!1}),c.a.createElement("div",null,c.a.createElement("div",{className:re.a.addInpInLine},c.a.createElement(y["a"],{className:re.a.addInp,value:d,onChange:this.agentNameInp,placeholder:"\u5546\u6237\u540d\u79f0"}),c.a.createElement(C["a"],{options:n,expandTrigger:"hover",onChange:this.dropDownChange,className:re.a.addInp2,placeholder:"\u9009\u62e9\u5e02\u533a",value:r})),c.a.createElement(y["a"],{className:re.a.addInpAddress,value:l,onChange:this.agentAddressInp,placeholder:"\u5546\u6237\u5730\u5740"}),c.a.createElement(x["a"],{style:{width:"100%"},placeholder:"\u9009\u62e9\u4ee3\u7406\u54c1\u724c",onChange:this.handleChange,className:re.a.addInpAgentBrand,value:s},i)),c.a.createElement(v["a"],{className:re.a.addSubBtn,onClick:this.checkAddData,type:"primary",block:!0,color:"#ccc"},"+ \u6dfb\u52a0")))}},{key:"displayRender",value:function(e){return e[e.length-1]}}]),t}(c.a.Component),ce=oe,ue=t("xvlK"),ge=t("+n12"),pe=t("ExAy"),he=x["a"].Option,me=function(e){Object(i["a"])(t,e);var a=Object(s["a"])(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.editData=function(e,a){var t=n.brandsList,d=e.brandList.length?e.brandList[0].id:[];console.log("editDataBrandId: ",d),console.log("a: ",e),n.selectChildrenRender(t,e),n.setState({editVisible:!0,editDataName:e.name,editDataCity:[e.city,e.region],editDataAddress:e.address,editDataBrandId:d,editDataId:e.id,selectChildren:n.selectChildren.filter((function(e){return 1===e.agented}))})},n.onFinishFailed=function(e){console.log("Failed:",e)},n.onFinish=function(e){console.log("Success:",e)},n.editAgentNameInp=function(e){n.setState({editDataName:e.target.value})},n.editDropDownChange=function(e){n.setState({editDataCity:e})},n.editAgentAddressInp=function(e){n.setState({editDataAddress:e.target.value})},n.editHandleChange=function(e,a){console.log(e,a);var t=[];t.push(a&&a.value),n.setState({editDataBrandId:t})},n.editHandleCancel=function(){n.setState({editVisible:!1})},n.editHandleOk=function(){var e=n.state,a=e.editDataName,t=e.editDataCity,d=e.editDataAddress,l=e.editDataBrandId,r=e.editDataId;a?t?d?(n.setState({spinningStatus:!0,editVisible:!1}),J({id:r,name:a,city:t[0],region:t[1],address:d,brandIds:l}).then((function(e){n.tableListReq(n.agentTableListParams)}))):alert("\u8bf7\u586b\u5199\u5730\u5740"):alert("\u8bf7\u9009\u62e9\u5e02\u533a"):alert("\u8bf7\u8f93\u5165\u5546\u6237\u540d\u79f0")},n.onRef=function(e){n.child=e},n.showModal=function(){n.child.showModal()},n.inpChange1=function(e){n.setState({agentName:e.target.value})},n.inpChange2=function(e){n.setState({agentBrand:e})},n.dropDownChange=function(e){n.setState({dropdownValue:e})},n.statusDropDownChange=function(e){console.log(e.join("")),n.setState({statusDropdownValue:e.join("")})},n.submitSearchData=function(){var e=n.state,a=e.agentName,t=e.agentBrand,d=e.dropdownValue,l=e.statusDropdownValue;n.agentTableListParams.brandId=t,n.agentTableListParams.agentOutletsName=a,n.agentTableListParams.status=l,n.agentTableListParams.city=d&&d[0],n.agentTableListParams.region=d&&d[1],n.agentTableListParams.pageIndex=0,n.tableListReq(n.agentTableListParams)},n.tableListReq=function(e){n.setState({spinningStatus:!0,consTrCt:!1}),T(e).then((function(a){if(a&&a.data&&a.data.content){var t=a.data.content;t.forEach((function(e,a){e.key="list"+a,e.cityRegion=e.city+e.region,e.do=c.a.createElement("p",null,c.a.createElement("a",{href:"javascript:;",key:a,onClick:n.editData.bind("",e,a,Object(w["a"])(n))},"\u7f16\u8f91"),"\xa0\xa0","1"===e.status?c.a.createElement("a",{href:"javascript:;",key:a,onClick:n.doUse.bind("",e,a,Object(w["a"])(n))},"\u542f\u7528"):c.a.createElement("a",{href:"javascript:;",key:a,onClick:n.doUse.bind("",e,a,Object(w["a"])(n))},"\u505c\u7528")),e.statusTxt="0"===e.status?c.a.createElement(E["a"],{color:"orange"},"\u542f\u7528"):c.a.createElement(E["a"],{color:"red"},"\u505c\u7528"),e.level=11===e.level?"\u54c1\u724c\u5382\u5bb6":"--",e.employeesNumber=null===e.employeesNumber?0:e.employeesNumber,e.personNum=c.a.createElement(u["a"],{to:"/personal/"+e.id,key:a,onClick:n.personNumClick.bind("",e,a,Object(w["a"])(n))},e.employeesNumber),e.brand=[],e.brandList.forEach((function(a,t){e.brand.push(a.brandName+"\n")}))})),n.setState({consTrCt:!0,tableDataSource:Object(I["a"])(t),pageIndex:e.pageIndex,total:a.data.total,spinningStatus:!1})}else k["a"].info({description:"\u6682\u65e0\u6570\u636e",message:"\u6682\u65e0\u6570\u636e"})}))},n.doUse=function(e,a){console.log(e,a);var t,d="0"===e.status?"\u505c\u7528":"\u542f\u7528",l="0"===e.status?"\u505c\u7528\u4f1a\u5bfc\u81f4\u8be5\u5546\u6237\u76f8\u5173\u6240\u6709\u4e1a\u52a1\u4eba\u5458\u8d26\u53f7\u505c\u7528\uff0c\u4e0d\u80fd\u518d\u5904\u7406\u4ee3\u724c\u9500\u552e\u4e1a\u52a1\uff0c\u786e\u8ba4\u8981\u505c\u7528\u5417\uff1f":c.a.createElement(c.a.Fragment,null,"\u542f\u7528\u540e\u8be5\u5546\u6237\u5c06\u6062\u590d\u4ee3\u724c\u9500\u552e\u4e1a\u52a1\u76f8\u5173\u529e\u7406\u6743\u9650\uff0c\u786e\u8ba4\u8981\u542f\u7528\u5417\uff1f",c.a.createElement("p",null,c.a.createElement(O["a"],{onChange:n.onUseOrStopCheck},"\u540c\u65f6\u542f\u7528\u8be5\u5546\u6237\u6240\u6709\u4eba\u5458\u8d26\u53f7")));n.setState({useOrStopId:e.id,useOrStopVisible:!0,useOrStopTitle:d,useOrStopContent:l,useOrStopIsUse:t,useOrStopStatus:"0"===e.status?"1":"0"})},n.onUseOrStopCheck=function(e,a){console.log(e.target.checked),n.setState({allUseCheck:e.target.checked})},n.useOrStopHandleOk=function(){var e=n.state,a=e.useOrStopId,t=e.useOrStopStatus,d=e.allUseCheck;n.setState({useOrStopVisible:!1,spinningStatus:!0}),W({agentOutletsId:a,status:t,isEnableAccount:d,level:"11"}).then((function(e){console.log(e),n.tableListReq(n.agentTableListParams),"0000"===e.retCode&&k["a"].info({description:"\u63d0\u793a",message:"\u72b6\u6001\u66f4\u65b0\u6210\u529f"})}))},n.useOrStopHandleCancel=function(e){n.setState({useOrStopVisible:!1})},n.reqCityRegion=function(){z().then((function(e){console.log(e),e&&e.data?(n.setState({dropdownData:e.data}),n.props.onSubmit(e.data)):k["a"].error({description:"\u6682\u65e0\u6570\u636e",message:"\u83b7\u53d6\u5730\u533a\u6570\u636e\u5931\u8d25"})}))},n.reqBrand=function(){U().then((function(e){console.log(e),e&&e.data&&(n.brandsList=e.data)}))},n.selectChildrenRender=function(e,a){var t=Object(I["a"])(e),d=[].concat(Object(I["a"])(t.filter((function(e){return 1===e.agented}))),Object(I["a"])(t.filter((function(e){return e.brandName===(a.brandList.length?a.brandList[0].brandName:"")}))));n.setState({editSelectList:d},(function(){console.log(n.state.editSelectList)}))},n.childChangeState=function(){n.setState({spinningStatus:!0})},n.selectChildren=[],n.brandsList=[],n.agentTableListParams={},n.state={dropdownData:[],dropdownValue:"",statusDropdownValue:"",tableDataSource:[],consTrCt:!1,selectChildren:[],editVisible:!1,editDataName:"",editDataCity:[],editDataAddress:"",editDataBrandId:[],agentName:"",agentBrand:"",total:null,pageSize:10,pageIndex:0,onChange:function(e,a){console.log(e,a);var t=n.state,d=t.pageSize,l=t.dropdownValue;n.agentTableListParams={pageIndex:e-1,pageSize:d,level:11,brandNameId:n.state.brandNameId,agentOutletsName:n.state.agentName,status:n.state.statusDropdownValue,city:l&&l[0],region:l&&l[1]},n.tableListReq(n.agentTableListParams)},spinningStatus:!0,allList:[],editSelectList:[]},n}return Object(r["a"])(t,[{key:"componentDidMount",value:function(){var e=this;this.agentTableListParams={pageIndex:0,pageSize:this.state.pageSize,level:11,brandId:"",agentOutletsName:"",status:this.state.statusDropdownValue,city:"",region:""},console.log(Object({NODE_ENV:"production"}).REACT_APP_ENV),this.tableListReq(this.agentTableListParams),this.reqCityRegion(),this.reqBrand(),Object(pe["d"])().then((function(a){e.setState({allList:a.data&&Object(I["a"])(a.data)})}))}},{key:"componentWillUnmount",value:function(){}},{key:"personNumClick",value:function(e,a){console.log(e,a)}},{key:"displayRender",value:function(e){return e[e.length-1]}},{key:"render",value:function(){var e=this,a=this.state,t=a.dropdownData,n=a.tableDataSource,d=(a.paginationSeting,a.visible,a.editDataName),l=a.editDataCity,r=a.editDataAddress,i=a.editDataBrandId,s=a.total,o=a.pageSize,u=a.pageIndex,g=a.onChange,p=a.selectChildren,h=a.spinningStatus,O=a.useOrStopTitle,k=a.useOrStopVisible,I=a.useOrStopContent,E=a.useOrStopIsUse,w=a.consTrCt,B=(a.allList,a.brandsList,[{title:"\u5546\u6237ID",dataIndex:"id",key:"id"},{title:"\u5546\u6237\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7ea7\u522b",dataIndex:"level",key:"level"},{title:"\u5e02\u533a",dataIndex:"cityRegion",key:"cityRegion"},{title:"\u5730\u5740",width:160,dataIndex:"address",key:"address"},{title:"\u4ee3\u7406\u54c1\u724c",dataIndex:"brand",key:"brand"},{title:"\u4eba\u5458\u6570",dataIndex:"personNum",key:"personNum"},{title:"\u72b6\u6001",dataIndex:"statusTxt",key:"statusTxt"},{title:"\u505c\u7528/\u542f\u7528\u65e5\u671f",dataIndex:"updateTime",key:"updateTime",width:150},{title:"\u64cd\u4f5c",dataIndex:"do",key:"do",width:120}]);return c.a.createElement("div",{className:D.a.agentLevelOneMain},c.a.createElement("div",{className:D.a.searchBox},c.a.createElement("div",{className:D.a.searchBoxItem},c.a.createElement("span",null,"\u5546\u6237\u540d\u79f0\uff1a"),c.a.createElement(y["a"],{onChange:this.inpChange1,className:D.a.inp,placeholder:"\u59d3\u540d",size:"middle"})),c.a.createElement("div",{style:{width:"200px",display:"inline-block",marginRight:"20px"}},c.a.createElement(S["a"].Item,{label:"\u4ee3\u7406\u54c1\u724c"},c.a.createElement(x["a"],{placeholder:"\u54c1\u724c\u540d\u79f0",defaultValue:"",onChange:this.inpChange2},c.a.createElement(he,{value:""},"\u5168\u90e8"),this.brandsList&&this.brandsList.length&&this.brandsList.map((function(e){return c.a.createElement(he,{key:e.id,value:e.id},e.brandName)}))))),c.a.createElement("div",{className:D.a.searchBoxItem},c.a.createElement("span",null,"\u5e02\u533a\uff1a"),c.a.createElement(C["a"],{options:Object(ge["a"])(t),expandTrigger:"hover",displayRender:this.displayRender,onChange:this.dropDownChange,className:D.a.inp,placeholder:"\u5168\u90e8",defaultValue:[""]})),c.a.createElement("div",{className:D.a.searchBoxItem},c.a.createElement("span",null,"\u72b6\u6001\uff1a"),c.a.createElement(C["a"],{options:[{label:"\u5168\u90e8",value:""},{label:"\u542f\u7528",value:"0"},{label:"\u505c\u7528",value:"1"}],expandTrigger:"hover",displayRender:this.displayRender,onChange:this.statusDropDownChange,className:D.a.inp,placeholder:"\u5168\u90e8",defaultValue:[""]})),c.a.createElement(v["a"],{className:D.a.sub,onClick:this.submitSearchData,type:"primary",htmlType:"submit"},"\u67e5\u8be2")),c.a.createElement("div",{className:D.a.addAgentBox},c.a.createElement(v["a"],{style:{backgroundColor:"#52c41a",color:"#fff"},className:D.a.btn,icon:c.a.createElement(ue["a"],null),onClick:this.showModal},"\u65b0\u589e\u54c1\u724c\u5382\u5bb6")),c.a.createElement(b["a"],{spinning:h},c.a.createElement("div",{className:D.a.tableList},c.a.createElement(f["a"],{dataSource:n,pagination:w&&{total:s,pageSize:o,current:u+1,onChange:g,showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(a,t){e.setState({pageIndex:a-1,pageSize:t})}},columns:B}))),t.length>0&&c.a.createElement(ce,{onRef:this.onRef,onChangePLoad:this.childChangeState,onAddOk:this.submitSearchData,brandChildren:p,cityRegion:t}),c.a.createElement(m["a"],{title:"\u7f16\u8f91\u54c1\u724c\u5382\u5bb6",visible:this.state.editVisible,onOk:this.editHandleOk,onCancel:this.editHandleCancel,maskClosable:!1},c.a.createElement("div",{className:D.a.editInp},c.a.createElement(y["a"],{className:D.a.editInp,value:d,onChange:this.editAgentNameInp,placeholder:"\u54c1\u724c\u5382\u5bb6\u540d\u79f0"})),c.a.createElement("div",{className:D.a.editInp},c.a.createElement(C["a"],{options:t,expandTrigger:"hover",onChange:this.editDropDownChange,className:D.a.editInp,placeholder:"\u9009\u62e9\u5e02\u533a",value:l})),c.a.createElement("div",{className:D.a.editInp},c.a.createElement(y["a"],{className:D.a.editInp,value:r,onChange:this.editAgentAddressInp,placeholder:"\u54c1\u724c\u5382\u5bb6\u5730\u5740"})),c.a.createElement("div",{className:D.a.editInp},c.a.createElement(x["a"],{allowClear:!0,style:{width:"100%"},placeholder:"\u9009\u62e9\u4ee3\u7406\u54c1\u724c",onChange:this.editHandleChange,value:i},this.state.editSelectList.map((function(e){return c.a.createElement(he,{key:e.id,disabled:!1},e.brandName)}))))),c.a.createElement(m["a"],{title:O,visible:k,onOk:this.useOrStopHandleOk,onCancel:this.useOrStopHandleCancel},c.a.createElement("p",null,I),E))}}]),t}(c.a.Component),be=me,fe=(t("14J3"),t("BMrR")),ve=(t("jCWc"),t("kPKH")),Ce=t("k1fw"),Se=(t("fu2T"),t("gK9i")),ye=t("MhlQ"),Oe=t.n(ye),ke=t("K+lB"),Ie=t.n(ke),Ee=x["a"].Option,we=Se["a"].Panel,xe=function(e){Object(i["a"])(t,e);var a=Object(s["a"])(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.deleteAgent=function(e){var a=[],t=n.state.dataSource;t.forEach((function(t){t!==e&&a.push(t)})),n.setState({dataSource:a})},n.handleOk=function(e){var a=n.state.dataSource;if(0===a.length)return alert("\u6570\u636e\u4e0d\u80fd\u4e3a\u4e3a\u7a7a"),!1;var t=[];a.forEach((function(e,a){var n={name:e.name,city:e.city,region:e.region,address:e.address,brandModelVoList:[]};e.brandModelVoList.forEach((function(e,a){var t=[];e.allChild.forEach((function(a,n){-1!==e.checkChildId.indexOf(a.id)&&t.push(a)})),n.brandModelVoList.push({id:e.id,name:e.name,children:t})})),t.push(n)})),console.log(a),n.initAddPopup(),n.props.onChangePLoad(),$({list:t,status:n.state.checked?0:1}).then((function(e){"0000"===e.retCode&&k["a"].success({description:"\u63d0\u793a",message:"\u6dfb\u52a0\u6210\u529f"}),n.props.onRefresh(n.props.tableReqData)}))},n.handleCancel=function(e){n.initAddPopup()},n.initAddPopup=function(){n.setState({visible:!1,dataSource:[],agentName:"",dropdownValue:[],agentAddress:"",agentBrand:[],agentBrandObjArr:[]})},n.agentBrandClassRender=function(){return console.log(n.state.agentBrandObjArr),c.a.createElement(Se["a"],{size:"small",onChange:n.agentBrandCollapseChange,accordion:!0},n.state.agentBrandObjArr.map((function(e,a){return c.a.createElement(we,{size:"small",header:c.a.createElement("div",null,c.a.createElement(E["a"],{size:"small",color:"blue",key:a},e.name),e.checkChildName.map((function(e,a){return c.a.createElement(E["a"],{key:a},e)})),c.a.createElement("a",{href:"javascript:;",onClick:function(e){e.stopPropagation()},onMouseDown:n.agentBrandDelete.bind(Object(w["a"])(n),e,a)},"x")),key:a},c.a.createElement(O["a"].Group,{defaultValue:e.allChild.map((function(e){return e.id})),style:{width:"100%"},onChange:n.checkboxChange},c.a.createElement(fe["a"],null,e.allChild.map((function(e,a){return c.a.createElement(ve["a"],{span:8,key:e.id},c.a.createElement(O["a"],{value:e.id,key:e.id},e.name))})))))})))},n.agentBrandDelete=function(e,a,t){console.log(e,a,t);var d=n.state,l=d.agentBrandObjArr,r=d.agentBrand;l.splice(a,1),r.splice(a,1),console.log(l),n.setState({agentBrand:r,agentBrandObjArr:l},(function(){n.handleChange(r,l)}))},n.agentBrandCollapseChange=function(e){void 0!==e&&(console.log(e),n.collapseIndex=e)},n.handleChange=function(e,a){console.log("ccc1",e),console.log("ccc2",a),n.collapseIndex=e.length-1;var t=[],d=[],l=n.state,r=(l.agentBrand,l.agentBrandObjArr),i=JSON.parse(sessionStorage.getItem("allBrandData")).list;a.forEach((function(e,a){e.id||(e.id=e.value),e.name||(e.name=e.children),i.forEach((function(a){e.value===a.id&&(e.allChild=a.children)})),r.forEach((function(a){e.value===a.id&&(e.checkChildName=a.checkChildName,e.checkChildId=a.checkChildId)})),t.push(e.id),d.push({id:e.id,name:e.name,checkChildName:e.checkChildName||[],checkChildId:e.checkChildId||[],allChild:e.allChild||[]})})),n.setState({agentBrand:t,agentBrandObjArr:d},(function(){console.log("value2: ",a),a.length&&a.forEach((function(e){e.allChild&&n.checkboxChange(e.allChild.map((function(e){return e.id})))}))}))},n.checkboxChange=function(e){console.log("checked = ",e),console.log("checked = ",n.collapseIndex);var a=n.state.agentBrandObjArr;a[n.collapseIndex].checkChildName=[],a[n.collapseIndex].checkChildId=[],e.forEach((function(e){a[n.collapseIndex].allChild.forEach((function(a){a.id===e&&(e=a)})),-1===a[n.collapseIndex].checkChildId.indexOf(e.id)&&(a[n.collapseIndex].checkChildName.push(e.name),a[n.collapseIndex].checkChildId.push(e.id))})),console.log(a),n.setState({agentBrandObjArr:a})},n.deleteBrandClass=function(e){console.log(e)},n.addAgentData=function(){if(n.state.agentName)if(n.state.dropdownValue.join(""))if(n.state.agentAddress)if(0!==n.state.agentBrandObjArr.length){var e="",a=!0;if(n.setState({carsAddress:Object(I["a"])(n.address)}),n.state.agentBrandObjArr.forEach((function(t){if(0===t.checkChildName.length)return a=!1,k["a"].error({description:"\u63d0\u793a",message:"\u5f53\u524d"+t.name+"\u54c1\u724c\u672a\u9009\u62e9\u4ee3\u7406\u578b\u53f7"}),!1;t.children=t.allChild,e+="".concat(t.name,"\uff1a"),t.checkChildName.forEach((function(a,n){n!==t.checkChildName.length-1?e+=a+"\uff0c":e+=a+"\uff1b\n"}))})),!a)return!1;var t={key:"3",agentName:n.state.agentName,cityRegion:n.state.dropdownValue.join(""),address:n.state.agentAddress,agentBrand:e,name:n.state.agentName,city:n.state.dropdownValue[0],region:n.state.dropdownValue[1],brandModelVoList:n.state.agentBrandObjArr},d=n.state.dataSource;d.push(t),console.log(d),n.setState({dataSource:Object(I["a"])(d),agentName:"",agentAddress:"",agentBrand:[]}),console.log("this.address: ",n.address),console.log("this.state.carsAddress",n.state.carsAddress)}else alert("\u8bf7\u9009\u62e9\u54c1\u724c");else alert("\u8bf7\u8f93\u5165\u5730\u5740");else alert("\u8bf7\u9009\u62e9\u5e02\u533a");else alert("\u8bf7\u8f93\u5165\u5546\u6237\u540d\u79f0")},n.agentNameInp=function(e){n.setState({agentName:e.target.value})},n.agentAddressInp=function(e){n.setState({agentAddress:e.target.value})},n.showModal=function(){n.setState({visible:!0}),console.log(n.state.visible)},n.dropDownChange=function(e){console.log("a: ",e),n.address=Object(I["a"])(e),console.log("this.address: ",n.address),n.setState({dropdownValue:e})},n.collapseIndex=0,n.state={visible:!1,dataSource:[],columns:[{title:"\u5546\u6237\u540d\u79f0",dataIndex:"agentName",key:"agentName",width:100},{title:"\u5e02\u533a",dataIndex:"cityRegion",key:"cityRegion",width:100},{title:"\u5730\u5740",dataIndex:"address",key:"address",width:200},{title:"\u9500\u552e\u54c1\u724c\u578b\u53f7",dataIndex:"agentBrand",key:"agentBrand",width:200},{title:"",key:"do",fixed:"right",width:100,render:function(e,a){return c.a.createElement("a",{onClick:n.deleteAgent.bind(e,a)},c.a.createElement(ie["a"],null))}}],dropdownData:n.props.cityDropdownData,dropdownValue:null,agentName:"",agentAddress:"",agentBrand:[],agentBrandObjArr:[],checked:!1,carsAddress:null,carsBrandList:[]},n.address=[],n}return Object(r["a"])(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.allBrandData=JSON.parse(sessionStorage.getItem("allBrandData")).list||[],console.log(this.allBrandData);var e=[];this.allBrandData.forEach((function(a,t){e.push(c.a.createElement(Ee,{key:a.id},a.name))})),this.selectChildren=e}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,a=(e.dataSource,e.columns),t=e.dropdownData,n=e.agentName,d=e.agentAddress,l=(e.dropdownValue,e.agentBrand);return c.a.createElement("div",null,c.a.createElement(m["a"],{title:"\u65b0\u589e\u7ecf\u9500\u5546",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,maskClosable:!1,width:"60%"},c.a.createElement(f["a"],{scroll:{x:600},dataSource:this.state.dataSource,columns:a,pagination:!1}),c.a.createElement("div",null,c.a.createElement("div",{className:Ie.a.addInpInLine},c.a.createElement(y["a"],{className:Ie.a.addInp,value:n,onChange:this.agentNameInp,placeholder:"\u5546\u6237\u540d\u79f0"}),c.a.createElement(C["a"],{options:t,expandTrigger:"hover",onChange:this.dropDownChange,className:Ie.a.addInp2,placeholder:"\u9009\u62e9\u5e02\u533a",defaultValue:this.state.carsAddress&&this.state.carsAddress})),c.a.createElement(y["a"],{className:Ie.a.addInpAddress,value:d,onChange:this.agentAddressInp,placeholder:"\u5546\u6237\u5730\u5740"}),c.a.createElement(x["a"],{mode:"multiple",style:{width:"100%"},placeholder:"\u9009\u62e9\u4ee3\u7406\u54c1\u724c",onChange:this.handleChange,className:Ie.a.addInpAgentBrand,defaultValue:l},this.selectChildren),this.agentBrandClassRender()),c.a.createElement(v["a"],{className:Ie.a.addSubBtn,onClick:this.addAgentData,type:"primary",block:!0,color:"#ccc"},"+ \u6dfb\u52a0")))}},{key:"displayRender",value:function(e){return e[e.length-1]}}]),t}(c.a.Component),Be=xe,De=x["a"].Option,Ne=Se["a"].Panel,Ae=function(e){Object(i["a"])(t,e);var a=Object(s["a"])(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.submitData=function(){var e=n.state,a=(e.agentName,e.cityDropdownValue),t=e.statusDropdownValue,d=e.brandIdValue;e.typeValue;n.data={pageIndex:0,pageSize:n.pageSize,level:12,brandName:"",agentOutletsName:n.state.agentName,city:a[0],region:a[1],status:t[0],brandId:d},n.reqTableList(n.data)},n.reqTableList=function(e){n.setState({spinningStatus:!0}),M(e).then((function(a){if(a&&a.data&&a.data.content){var t=a.data.content;t.forEach((function(e,a){e.key=a,e.cityRegion=e.city+e.region,e.do=c.a.createElement("div",{key:a},c.a.createElement("a",{href:"javascript:;",onClick:n.editData.bind("",e,a,Object(w["a"])(n))},"\u7f16\u8f91"),"\xa0\xa0","1"===e.status?c.a.createElement("a",{href:"javascript:;",onClick:n.doUse.bind("",e,a,Object(w["a"])(n))},"\u542f\u7528"):c.a.createElement("a",{href:"javascript:;",onClick:n.doUse.bind("",e,a,Object(w["a"])(n))},"\u505c\u7528")),e.level=12===e.level?"\u7ecf\u9500\u5546":"--",e.employeesNumber=null===e.employeesNumber?0:e.employeesNumber,e.personNum=c.a.createElement(u["a"],{to:"/personal/"+e.id,key:a,onClick:n.personNumClick.bind("",e,a,Object(w["a"])(n))},e.employeesNumber),e.vityRegion=e.city+e.region,e.statusTxt="0"===e.status?c.a.createElement(E["a"],{color:"orange"},"\u542f\u7528"):c.a.createElement(E["a"],{color:"red"},"\u505c\u7528"),e.brand=c.a.createElement("a",{href:"javascript:;",onClick:n.showBrandList.bind("",e,a,Object(w["a"])(n))},"\u70b9\u51fb\u67e5\u770b")})),n.setState({tableDataSource:t,pageIndex:e.pageIndex,total:a.data.total,spinningStatus:!1})}else k["a"].info({description:"\u6682\u65e0\u6570\u636e",message:"\u6682\u65e0\u6570\u636e"})}))},n.showBrandList=function(e,a){ne(e.id).then((function(e){n.setState({cBrandList:e.data.list,loadStatus:!1,brandModalVisible:!0})}))},n.editData=function(e,a){console.log("a",e);var t=n.allBrandData;console.log("brandData",n.allBrandData);var d=[],l=[];e.brandModelVos&&e.brandModelVos.forEach((function(e){d.push(e.id),t.forEach((function(a,n){e.id===a.id&&(a.allChild=a.children,a.children=e.children,a.checkedChild=[],a.children.forEach((function(e){a.checkedChild.push(e.id)})),l.push(t[n]))}))})),ne(e.id).then((function(e){var a=e.data;console.log("res",a),n.setState({editDataBrand:a.list?a.list.map((function(e){return e.id})):[],editAgentBrandObjArr:a.list?a.list.map((function(e){return Object(Ce["a"])(Object(Ce["a"])({},e),{},{allChild:e.children,checkedChild:Object(I["a"])(e.children.map((function(e){return e.id})))})})):[]}),console.log("editDataBrand: ",n.state.editDataBrand)})),n.setState({editDataId:e.id,editDataName:e.name,editDataCity:[e.city,e.region],editDataAddress:e.address,editAgentBrandObjArr:l||[],editVisible:!0}),n.currentEditData=e},n.doUse=function(e,a){var t,d="0"===e.status?"\u505c\u7528":"\u542f\u7528",l="0"===e.status?"\u505c\u7528\u4f1a\u5bfc\u81f4\u8be5\u5546\u6237\u76f8\u5173\u6240\u6709\u4e1a\u52a1\u4eba\u5458\u8d26\u53f7\u505c\u7528\uff0c\u4e0d\u80fd\u518d\u5904\u7406\u4ee3\u724c\u9500\u552e\u4e1a\u52a1\uff0c\u786e\u8ba4\u8981\u505c\u7528\u5417\uff1f":c.a.createElement(c.a.Fragment,null,"\u542f\u7528\u540e\u8be5\u5546\u6237\u5c06\u6062\u590d\u4ee3\u724c\u9500\u552e\u4e1a\u52a1\u76f8\u5173\u529e\u7406\u6743\u9650\uff0c\u786e\u8ba4\u8981\u542f\u7528\u5417?",c.a.createElement("p",{className:"mt-8"}," ",c.a.createElement(O["a"],{Checkbox:!0,onChange:n.onUseOrStopCheck,id:e.id}," \u540c\u65f6\u542f\u7528\u8be5\u5546\u6237\u6240\u6709\u4eba\u5458\u8d26\u53f7")));n.setState({useOrStopId:e.id,useOrStopVisible:!0,useOrStopTitle:d,useOrStopContent:l,useOrStopIsUse:t,useOrStopStatus:"0"===e.status?"1":"0"})},n.onFinishFailed=function(e){console.log("Failed:",e)},n.onFinish=function(e){console.log("Success:",e)},n.handleChangeType=function(e){n.setState({brandIdValue:e})},n.onUseOrStopCheck=function(e,a){console.log(e.target.checked),n.setState({allUseCheck:e.target.checked})},n.useOrStopHandleOk=function(){var e=n.state,a=e.useOrStopId,t=e.useOrStopStatus,d=e.allUseCheck;n.setState({useOrStopVisible:!1,spinningStatus:!0}),W({agentOutletsId:a,status:t,isEnableAccount:d,level:"12"}).then((function(e){console.log(e),n.reqTableList(n.data),"0000"===e.retCode&&k["a"].info({description:"\u63d0\u793a",message:"\u72b6\u6001\u66f4\u65b0\u6210\u529f"})}))},n.useOrStopHandleCancel=function(e){n.setState({useOrStopVisible:!1})},n.editAgentNameInp=function(e){n.setState({editDataName:e.target.value})},n.editDropDownChange=function(e){n.setState({editDataCity:e})},n.editAgentAddressInp=function(e){n.setState({editDataAddress:e.target.value})},n.editHandleChange=function(e,a){var t=[],d=[],l=n.state,r=l.editDataBrand,i=l.editAgentBrandObjArr;console.log(e,a,r,i);var s=n.allBrandData;a.forEach((function(e,a){s.forEach((function(a,t){a.id===e.key&&(e.value=a.name,e.allChild=a.children,e.children=[])}));var n=[];e.children.forEach((function(e){n.push(e.id)})),t.push(e.key||e.id),d.push({id:e.key||e.id,name:e.value||e.name,children:e.allChild||[],allChild:Object(I["a"])(e.allChild),checkedChild:Object(I["a"])(e.allChild.map((function(e){return e.id})))})})),console.log(t,d),n.setState({editDataBrand:t,editAgentBrandObjArr:d})},n.editHandleCancel=function(){n.allBrandData=JSON.parse(sessionStorage.getItem("allBrandData")).list,n.setState({editVisible:!1})},n.editHandleOk=function(){n.allBrandData=JSON.parse(sessionStorage.getItem("allBrandData")).list;var e=n.state,a=e.editAgentBrandObjArr,t=e.editDataId,d=e.editDataName,l=e.editDataCity,r=e.editDataAddress;if(d)if(l)if(r){var i={id:t,name:d,city:l[0],region:l[1],address:r,brandModelVoList:a};n.setState({editVisible:!1,spinningStatus:!0}),X(i).then((function(e){"0000"===e.retCode&&(k["a"].success({description:"\u63d0\u793a",message:"\u6570\u636e\u4fdd\u5b58\u6210\u529f"}),n.reqTableList(n.data))}))}else alert("\u8bf7\u586b\u5199\u5730\u5740");else alert("\u8bf7\u9009\u62e9\u5e02\u533a");else alert("\u8bf7\u8f93\u5165\u5546\u6237\u540d\u79f0")},n.onRef=function(e){n.child=e},n.showModal=function(){n.child.showModal()},n.inpChange1=function(e){n.setState({agentName:e.target.value})},n.inpChange2=function(e){n.setState({agentBrand:e.target.value})},n.cityDropDownChange=function(e){n.setState({cityDropdownValue:e})},n.statusDropDownChange=function(e){n.setState({statusDropdownValue:e})},n.agentBrandCollapseChange=function(e){void 0!==e&&(console.log(e),n.collapseIndex=e)},n.editAgentBrandClassRender=function(){var e=n.state.editAgentBrandObjArr;return c.a.createElement(Se["a"],{onChange:n.agentBrandCollapseChange,accordion:!0},e&&e.map((function(e,a){return c.a.createElement(Ne,{header:c.a.createElement("div",null,c.a.createElement(E["a"],{color:"blue",key:e.id},e.name),e.children.map((function(e,a){return c.a.createElement(E["a"],{key:e.id},e.name)})),c.a.createElement("a",{href:"javascript:;",onClick:function(e){e.stopPropagation()},onMouseDown:n.agentBrandDelete.bind(Object(w["a"])(n),e,a)},"x")),key:a},c.a.createElement(O["a"].Group,{style:{width:"100%"},value:e.checkedChild&&e.checkedChild,onChange:n.checkboxChange},c.a.createElement(fe["a"],null,e.allChild.map((function(e,a){return c.a.createElement(ve["a"],{span:8,key:a},c.a.createElement(O["a"],{value:e.id,key:e.id},e.name))})))))})))},n.agentBrandDelete=function(e,a,t){console.log(e,a,t);var d=n.state,l=d.editAgentBrandObjArr,r=d.editDataBrand;l.splice(a,1),console.log(r,l),n.setState({agentBrand:r,agentBrandObjArr:l},(function(){n.editHandleChange(r,l)}))},n.checkboxChange=function(e){console.log("checked = ",e);var a=n.state.editAgentBrandObjArr,t=[],d=[];console.log(a[n.collapseIndex].children),a[n.collapseIndex].allChild.forEach((function(a){-1!==e.indexOf(a.id)&&(t.push(a),d.push(a.id))})),a[n.collapseIndex].children=[].concat(t),a[n.collapseIndex].checkedChild=[].concat(d),n.setState({editAgentBrandObjArr:a})},n.brandModal=function(){var e=n.state,a=e.cBrandList,t=e.loadStatus;return c.a.createElement(m["a"],{title:"\u9500\u552e\u54c1\u724c\u578b\u53f7",closable:!0,visible:n.state.brandModalVisible,footer:null,onCancel:n.brandModalClose},c.a.createElement(Se["a"],{onChange:n.lookBrandList,accordion:!0},a&&a.map((function(e,a){return c.a.createElement(Ne,{header:e.name,key:e.id},e.children&&e.children.map((function(e,a){return c.a.createElement("p",{key:e.id},e.name)})))}))),t&&c.a.createElement(b["a"],{size:"large"}))},n.brandModalClose=function(){n.setState({brandModalVisible:!1})},n.getAllBrand=function(){Q().then((function(e){if(console.log(e),e&&e.data){var a=n.state.selectChildren;n.allBrandData=e.data,sessionStorage.setItem("allBrandData",JSON.stringify({list:e.data}));var t=e.data;t.forEach((function(e,t){a.push(c.a.createElement(De,{key:e.id,children:e.children},e.name))})),n.setState({selectChildren:a})}else k["a"].error({description:"\u63d0\u793a",message:"\u83b7\u53d6\u6240\u6709\u54c1\u724c\u578b\u53f7\u6570\u636e\u5931\u8d25"})}))},n.childChangeState=function(){n.setState({spinningStatus:!0})},n.collapseIndex=null,n.pageIndex=0,n.pageSize=10,n.data={},n.allBrandData=[],n.state={cityDropdownData:n.props.cityData,statusDropdownData:[{value:"",label:"\u5168\u90e8"},{value:"1",label:"\u505c\u7528"},{value:"0",label:"\u542f\u7528"}],agentName:"",cityDropdownValue:[],statusDropdownValue:[],tableDataSource:[],tableColumns:[{title:"\u5546\u6237ID",dataIndex:"id",key:"id"},{title:"\u5546\u6237\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7ea7\u522b",dataIndex:"level",key:"level"},{title:"\u5e02\u533a",dataIndex:"cityRegion",key:"cityRegion",width:100},{title:"\u5730\u5740",dataIndex:"address",key:"address",width:200},{title:"\u9500\u552e\u54c1\u724c\u578b\u53f7",dataIndex:"brand",key:"brand",width:150},{title:"\u4eba\u5458\u6570",dataIndex:"personNum",key:"personNum"},{title:"\u72b6\u6001",dataIndex:"statusTxt",key:"statusTxt"},{title:"\u505c\u7528/\u542f\u7528\u65e5\u671f",dataIndex:"updateTime",key:"updateTime",width:150},{title:"\u64cd\u4f5c",dataIndex:"do",key:"do",width:120}],total:null,pageSize:10,pageIndex:0,onChange:function(e,a){console.log(e,a);var t=n.state,d=t.pageSize,l=t.cityDropdownValue,r=t.statusDropdownValue,i=t.brandIdValue;n.data={pageIndex:e-1,pageSize:d,level:12,brandName:"",agentOutletsName:n.state.agentName,city:l&&l[0],region:l&&l[1],status:r[0],brandId:i},n.reqTableList(n.data)},useOrStopVisible:!1,useOrStopTitle:"",useOrStopContent:null,useOrStopId:"",useOrStopStatus:"",allUseCheck:!1,brandModalVisible:!1,cBrandList:[],loadStatus:!0,editVisible:!1,editDataId:null,editDataName:"",editDataCity:[],editDataAddress:"",editDataBrand:[],editAgentBrandObjArr:[],selectChildren:[],spinningStatus:!0,agentList:[],brandIdValue:""},n}return Object(r["a"])(t,[{key:"componentDidMount",value:function(){var e=this,a=this.state,t=(a.agentName,a.cityDropdownValue),n=a.statusDropdownValue;this.data={pageIndex:this.pageIndex,pageSize:this.pageSize,level:12,brandName:"",agentOutletsName:this.state.agentName,city:t[0],region:t[1],status:n[0]},this.reqTableList(this.data),this.getAllBrand(),ae().then((function(a){e.setState({agentList:Object(I["a"])(a.data)})}))}},{key:"componentWillUnmount",value:function(){}},{key:"personNumClick",value:function(e,a){console.log(e,a)}},{key:"render",value:function(){var e=this,a=this.state,t=a.cityDropdownData,n=a.statusDropdownData,d=a.tableDataSource,l=a.tableColumns,r=(a.visible,a.editDataName),i=a.editDataCity,s=a.editDataAddress,o=a.editDataBrand,u=a.total,g=a.pageSize,p=a.pageIndex,h=a.onChange,O=a.useOrStopVisible,k=a.useOrStopTitle,I=a.useOrStopContent,E=a.useOrStopIsUse,w=a.selectChildren,B=a.spinningStatus,D=a.agentList;return c.a.createElement("div",{className:Oe.a.agentLevelOneMain},c.a.createElement("div",{className:Oe.a.searchBox},c.a.createElement("div",{className:Oe.a.searchBoxItem},c.a.createElement("span",null,"\u5546\u6237\u540d\u79f0\uff1a"),c.a.createElement(y["a"],{onChange:this.inpChange1,className:Oe.a.inp,placeholder:"\u59d3\u540d",size:"middle"})),c.a.createElement("div",{className:Oe.a.searchBoxItem},c.a.createElement("span",null,"\u5e02\u533a\uff1a"),c.a.createElement(C["a"],{options:Object(ge["a"])(t),expandTrigger:"hover",displayRender:this.displayRender,onChange:this.cityDropDownChange,className:Oe.a.inp,placeholder:"\u5168\u90e8",defaultValue:[""]})),c.a.createElement("div",{className:Oe.a.searchBoxItem},c.a.createElement("span",null,"\u72b6\u6001\uff1a"),c.a.createElement(C["a"],{options:n,expandTrigger:"hover",onChange:this.statusDropDownChange,className:Oe.a.inp,placeholder:"\u5168\u90e8",defaultValue:[""]})),c.a.createElement("div",{style:{width:"200px",display:"inline-block"}},c.a.createElement(S["a"].Item,{label:"\u54c1\u724c"},c.a.createElement(x["a"],{placeholder:"\u54c1\u724c",defaultValue:"",onChange:this.handleChangeType},c.a.createElement(x["a"].Option,{value:""},"\u5168\u90e8"),D&&D.length&&D.map((function(e){return c.a.createElement(x["a"].Option,{key:e.id,value:e.id},e.brandName)}))))),c.a.createElement(v["a"],{className:Oe.a.sub,onClick:this.submitData,type:"primary",htmlType:"submit"},"\u67e5\u8be2")),c.a.createElement("div",{className:Oe.a.addAgentBox},c.a.createElement(v["a"],{style:{backgroundColor:"#52c41a",color:"#fff"},className:Oe.a.btn,icon:c.a.createElement(ue["a"],null),onClick:this.showModal},"\u65b0\u589e\u7ecf\u9500\u5546")),c.a.createElement(b["a"],{spinning:B},c.a.createElement("div",{className:Oe.a.tableList},c.a.createElement(f["a"],{width:"100%",rowKey:"agentOutletsId",dataSource:d,pagination:{total:u,pageSize:g,current:p+1,onChange:h,showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,showQuickJumper:!0,onShowSizeChange:function(a,t){e.setState({pageIndex:a,pageSize:t})}},columns:l}))),w.length>0&&c.a.createElement(Be,{onRef:this.onRef,onChangePLoad:this.childChangeState,tableReqData:this.data,onRefresh:this.reqTableList,cityDropdownData:t}),c.a.createElement(m["a"],{title:"\u7f16\u8f91\u7ecf\u9500\u5546",visible:this.state.editVisible,onOk:this.editHandleOk,onCancel:this.editHandleCancel,maskClosable:!1},c.a.createElement("div",{className:Oe.a.editInp},c.a.createElement(y["a"],{className:Oe.a.editInp,value:r,onChange:this.editAgentNameInp,placeholder:"\u5546\u6237\u540d\u79f0"})),c.a.createElement("div",{className:Oe.a.editInp},c.a.createElement(C["a"],{options:t,expandTrigger:"hover",onChange:this.editDropDownChange,className:Oe.a.editInp,placeholder:"\u9009\u62e9\u5e02\u533a",value:i})),c.a.createElement("div",{className:Oe.a.editInp},c.a.createElement(y["a"],{className:Oe.a.editInp,value:s,onChange:this.editAgentAddressInp,placeholder:"\u5546\u6237\u5730\u5740"})),c.a.createElement("div",{className:Oe.a.editInp},c.a.createElement(x["a"],{mode:"multiple",style:{width:"100%"},placeholder:"\u9009\u62e9\u4ee3\u7406\u54c1\u724c",onChange:this.editHandleChange,value:o},w),this.editAgentBrandClassRender())),c.a.createElement(m["a"],{title:k,visible:O,onOk:this.useOrStopHandleOk,onCancel:this.useOrStopHandleCancel},c.a.createElement("p",null,I),E),this.brandModal())}},{key:"displayRender",value:function(e){return e[e.length-1]}}]),t}(c.a.Component),je=function(e){var a=e.snApprove;return{snApprove:a}},Le=Object(g["connect"])(je)(Ae),Ve=function(e){Object(i["a"])(t,e);var a=Object(s["a"])(t);function t(e){var n;return Object(l["a"])(this,t),n=a.call(this,e),n.handleClick=function(e){n.setState({level_current:e.key})},n.state={level_current:"level_one"},n}return Object(r["a"])(t,[{key:"render",value:function(){var e=this.state,a=e.level_current,t=e.cItyRegion;return c.a.createElement("div",{className:h.a.agentManageMain},c.a.createElement(d["a"],null,c.a.createElement(d["a"].Item,null,c.a.createElement(u["a"],{to:"/personal/:index"},"\u9996\u9875")," "),c.a.createElement(d["a"].Item,null,"\u5546\u6237\u7ba1\u7406")),c.a.createElement(n["a"],{onClick:this.handleClick,selectedKeys:[this.state.level_current],mode:"horizontal"},c.a.createElement(n["a"].Item,{key:"level_one"},"\u54c1\u724c\u5382\u5bb6"),c.a.createElement(n["a"].Item,{key:"level_tow"},"\u7ecf\u9500\u5546")),"level_one"===a?c.a.createElement(be,{onSubmit:this.getCItyRegion.bind(this)}):c.a.createElement(Le,{cityData:t}))}},{key:"getCItyRegion",value:function(e){console.log("data:",e),this.setState({cItyRegion:e})}}]),t}(c.a.Component);a["default"]=Object(g["connect"])((function(e){var a=e.login;e.loading,e.code;return{userLogin:a}}))(Ve)},"K+lB":function(e,a,t){e.exports={addInpInLine:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInpInLine",addInp:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInp",addInp2:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInp2",addInpAddress:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInpAddress",addInpAgentBrand:"antd-pro-pages-agent-manage-agent-level-two-add-add-addInpAgentBrand",addSubBtn:"antd-pro-pages-agent-manage-agent-level-two-add-add-addSubBtn",agentClass:"antd-pro-pages-agent-manage-agent-level-two-add-add-agentClass"}},MhlQ:function(e,a,t){e.exports={agentLevelOneMain:"antd-pro-pages-agent-manage-agent-level-two-index-agentLevelOneMain",searchBox:"antd-pro-pages-agent-manage-agent-level-two-index-searchBox",inp:"antd-pro-pages-agent-manage-agent-level-two-index-inp",sub:"antd-pro-pages-agent-manage-agent-level-two-index-sub",searchBoxItem:"antd-pro-pages-agent-manage-agent-level-two-index-searchBoxItem",addAgentBox:"antd-pro-pages-agent-manage-agent-level-two-index-addAgentBox",btn:"antd-pro-pages-agent-manage-agent-level-two-index-btn",editInp:"antd-pro-pages-agent-manage-agent-level-two-index-editInp"}},XaiL:function(e,a,t){e.exports={addInpInLine:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInpInLine",addInp:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInp",addInp2:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInp2",addInpAddress:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInpAddress",addInpAgentBrand:"antd-pro-pages-agent-manage-agent-level-one-add-add-addInpAgentBrand",addSubBtn:"antd-pro-pages-agent-manage-agent-level-one-add-add-addSubBtn"}},jTJO:function(e,a,t){e.exports={agentManageMain:"antd-pro-pages-agent-manage-index-agentManageMain",menuBox:"antd-pro-pages-agent-manage-index-menuBox",menuBoxP:"antd-pro-pages-agent-manage-index-menuBoxP",icon:"antd-pro-pages-agent-manage-index-icon",other:"antd-pro-pages-agent-manage-index-other",register:"antd-pro-pages-agent-manage-index-register",main:"antd-pro-pages-agent-manage-index-main"}},ud1q:function(e,a,t){e.exports={agentLevelOneMain:"antd-pro-pages-agent-manage-agent-level-one-index-agentLevelOneMain",searchBox:"antd-pro-pages-agent-manage-agent-level-one-index-searchBox",inp:"antd-pro-pages-agent-manage-agent-level-one-index-inp",sub:"antd-pro-pages-agent-manage-agent-level-one-index-sub",searchBoxItem:"antd-pro-pages-agent-manage-agent-level-one-index-searchBoxItem",addAgentBox:"antd-pro-pages-agent-manage-agent-level-one-index-addAgentBox",btn:"antd-pro-pages-agent-manage-agent-level-one-index-btn",editInp:"antd-pro-pages-agent-manage-agent-level-one-index-editInp"}}}]);