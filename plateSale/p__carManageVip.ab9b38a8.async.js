(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"3ZZI":function(e,t,a){e.exports={main:"antd-pro-pages-car-manage-vip-index-main"}},"7qPq":function(e,t,a){e.exports={container:"antd-pro-pages-car-manage-vip-components-tabs-basic-index-container"}},"8hSl":function(e,t,a){e.exports={container:"antd-pro-pages-car-manage-vip-components-card-census-basic-index-container"}},mL1V:function(e,t,a){},mPse:function(e,t,a){"use strict";a.r(t);var n=a("k1fw"),r=a("tJVT"),i=a("Hx5s"),l=a("q1tI"),c=a.n(l),s=a("9kvl"),o=a("LEhT"),d=(a("g9YV"),a("wCAj")),u=a("0Owb"),m=a("55Ip"),p=a("K6AL"),g=a("mL1V"),b=a.n(g),f={x:1e3},E=[{title:"\u7533\u8bf7\u65e5\u671f",dataIndex:"lastImageInputtedDate",key:"lastImageInputtedDate"},{title:"\u7ecf\u9500\u5546",dataIndex:"agentOutletsName",key:"agentOutletsName"},{title:"\u5e02\u533a",dataIndex:"agentOutletsCity",key:"agentOutletsCity"},{title:"\u8f66\u8f86\u54c1\u724c",dataIndex:"brandName",key:"brandName"},{title:"\u8f66\u8f86\u578b\u53f7",dataIndex:"modelName",key:"modelName"},{title:"\u6574\u8f66\u7f16\u7801SN",dataIndex:"electrombileNumber",key:"electrombileNumber"},{title:"ccc\u8bc1\u4e66\u7f16\u7801",dataIndex:"cccCertificateNumber",key:"cccCertificateNumber"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"auditStatus",key:"auditStatus",width:80,render:function(e){var t=p["b"].filter((function(t){return t.key===e}))||[];return c.a.createElement("span",{className:"font-".concat(t[0].color)},t[0].val)}},{title:"\u5ba1\u6838\u65e5\u671f",dataIndex:"auditedAt",key:"auditedAt"},{title:"\u4e0d\u901a\u8fc7\u539f\u56e0",dataIndex:"notPassReason",key:"notPassReason"},{title:"\u64cd\u4f5c",dataIndex:"id",key:"id",fixed:"right",render:function(e){return c.a.createElement(m["a"],{to:"/carmanage/vip/details/".concat(e)},"\u67e5\u770b\u8be6\u60c5")}}],v=function(e){var t=e.meansListState,a=e.tableLoading,i=e.paginationChange,s=(e.getList,t.total),o=t.current,m=t.pageSize,p=t.list,g=Object(l["useState"])([m]),v=Object(r["a"])(g,2),y=v[0];v[1];console.log(m);var I=function(e,a){i(e,!1,Object(n["a"])(Object(n["a"])({},t.filter),{},{pageSize:a[0],pageIndex:e}))},L={rowKey:"id",columns:E,scroll:f,pagination:{total:s,current:o,pageSize:y,onChange:I,showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,showQuickJumper:!0},dataSource:p};return c.a.createElement("div",{className:b.a.container},c.a.createElement("div",{id:"components-table-demo-basic"},c.a.createElement(d["a"],Object(u["a"])({key:(new Date).getTime(),loading:a},L))))},y=Object(s["connect"])((function(e){var t=e.meansList,a=e.loading;return{meansListState:t,tableLoading:a.effects["meansList/getList"]}}))(v),I=(a("+L6B"),a("2/Rp")),L=(a("14J3"),a("BMrR")),h=(a("6UJt"),a("DFOY")),D=(a("jCWc"),a("kPKH")),O=(a("5NDa"),a("5rEg")),S=(a("y8nQ"),a("Vl3Y")),N=(a("iQDF"),a("+eQT")),x=(a("OaEy"),a("2fM7")),k=a("rZYV"),j=a.n(k),C=a("+n12"),Y=x["a"].Option,w=N["a"].RangePicker,z=function(e){var t=e.dispatch,a=e.meansListState,n=e.userInfo,i=e.subDealerList,s=e.distributeList,o=e.subDealerListLoading;console.log("userInfo: ",n);var d=S["a"].useForm(),u=Object(r["a"])(d,1),m=u[0];function p(e){var a=Object(r["a"])(e,2),i=a[0],l=void 0===i?"":i,c=a[1],s=void 0===c?"":c;t({type:"subDealer/getList",payload:{agentOutletsId:n.firstId,city:l||"",region:s||""}}),m.setFieldsValue({secondDealer:""})}Object(l["useEffect"])((function(){t({type:"subDealer/getList",payload:{agentOutletsId:n.firstId,city:"",region:""}})}),[]),Object(l["useEffect"])((function(){t({type:"distributeList/requestGetCity",payload:{agentOutletsId:n.id}})}),[]),console.log(s);var g=function(){return c.a.createElement(L["a"],{gutter:24},c.a.createElement(D["a"],{span:8},c.a.createElement(S["a"].Item,{label:"\u6574\u8f66\u7f16\u7801SN",name:"SNCode"},c.a.createElement(O["a"],{placeholder:"\u6574\u8f66\u7f16\u7801SN"}))),"vip"!=n["antd-pro-authority"]&&c.a.createElement(D["a"],{span:8},c.a.createElement(S["a"].Item,{label:"\u8f66\u8f86\u54c1\u724c",name:"carBrand"},c.a.createElement(O["a"],{placeholder:"\u8f66\u8f86\u54c1\u724c"}))),c.a.createElement(D["a"],{span:8},c.a.createElement(S["a"].Item,{label:"\u8f66\u8f86\u578b\u53f7",name:"carModel"},c.a.createElement(O["a"],{placeholder:"\u8f66\u8f86\u578b\u53f7"}))),c.a.createElement(D["a"],{span:8},c.a.createElement(S["a"].Item,{label:"\u5ba1\u6838\u72b6\u6001",name:"status"},c.a.createElement(x["a"],{placeholder:"\u5ba1\u6838\u72b6\u6001"},c.a.createElement(Y,{value:""},"\u5168\u90e8"),c.a.createElement(Y,{value:"2"},"\u4e0d\u901a\u8fc7"),c.a.createElement(Y,{value:"1"},"\u5df2\u5b8c\u6210"),c.a.createElement(Y,{value:"0"},"\u5f85\u5ba1\u6838")))),c.a.createElement(D["a"],{span:8},c.a.createElement(S["a"].Item,{label:"\u5e02\u533a",name:"address"},c.a.createElement(h["a"],{options:Object(C["a"])(s.city),onChange:p,placeholder:"\u8bf7\u9009\u62e9\u5e02\u533a",expandTrigger:"hover"}))),c.a.createElement(D["a"],{span:8},c.a.createElement(S["a"].Item,{label:"\u7ecf\u9500\u5546",name:"secondDealer"},c.a.createElement(x["a"],{placeholder:"\u7ecf\u9500\u5546",loading:o,disabled:o},c.a.createElement(Y,{value:""},"\u5168\u90e8"),i.map((function(e){return c.a.createElement(Y,{key:e.id,value:e.id},e.name)}))))),c.a.createElement(D["a"],{span:8},c.a.createElement(S["a"].Item,{label:"\u7533\u8bf7\u65e5\u671f",name:"applyDate"},c.a.createElement(w,null))),c.a.createElement(D["a"],{span:8},c.a.createElement(S["a"].Item,{label:"\u5ba1\u6838\u65e5\u671f",name:"date"},c.a.createElement(w,null))))},b=function(e){t({type:"meansList/getList",payload:{agentOutletsId:n.firstId,account:n.phone,pageIndex:1,pageSize:a.pageSize,electrombileNumber:e.SNCode,brandName:e.carBrand,modelName:e.carModel,auditStatus:e.status,secondaryAgentOutletsId:e.secondDealer?[e.secondDealer]:[],startApplicationDate:e.applyDate?e.applyDate[0].format("YYYY-MM-DD"):"",endApplicationDate:e.applyDate?e.applyDate[1].format("YYYY-MM-DD"):"",startAuditedAt:e.date?e.date[0].format("YYYY-MM-DD"):"",endAuditedAt:e.date?e.date[1].format("YYYY-MM-DD"):"",city:e.address?e.address[0]:"",region:e.address&&e.address[1]?e.address[1]:"",versionType:"vip"}})},f=function(e){console.log("fail",e)},E={secondDealer:"",address:[""],status:""};return c.a.createElement(S["a"],{className:"ant-advanced-search-form",name:"car-manage-form-search",form:m,onFinish:b,onFinishFailed:f,initialValues:E},g(),c.a.createElement(L["a"],null,c.a.createElement(D["a"],{span:24,style:{textAlign:"right"}},c.a.createElement(I["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"))))},M=Object(s["connect"])((function(e){var t=e.meansList,a=e.login,n=e.subDealer,r=e.distributeList,i=e.loading;return{meansListState:t,userInfo:a,subDealerList:n.list,distributeList:r,subDealerListLoading:i.effects["subDealer/getList"]}}))(z),A=function(e){var t=e.children;return c.a.createElement("div",{className:j.a.container},c.a.createElement("div",{id:"components-form-demo-advanced-search"},c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement("div",{className:"search-result-list"},t))))},T=(a("2qtc"),a("kLXV")),V=(a("IzEo"),a("bx4M")),P=(a("aHsQ"),a("sGsY")),q=(a("tU7J"),a("wFql")),F=a("8hSl"),Z=a.n(F),J=q["a"].Title,B=O["a"].Search,K=[{title:"\u8f66\u724c\u53f7",dataIndex:"plateNumber",key:"plateNumber"}],Q=function(e){var t=e.census,a=e.dispatch,n=e.userInfo,i=e.surplus,s=e.tableLoading,o=i.total,u=i.list,m=i.current,p=i.pageSize,g=Object(l["useState"])(!1),b=Object(r["a"])(g,2),f=b[0],E=b[1],v=function(e){E(e)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a({type:"surplus/getList",payload:{agentOutletsId:n.firstId,pageIndex:e,pageSize:i.pageSize,plateNumber:t}})},I=function(){y(1),v(!0)},h=function(e){y(e)},O={columns:K,dataSource:u,rowKey:"id",pagination:{total:o,current:m,pageSize:p,onChange:h},loading:s},S=function(e){y(1,e)};return c.a.createElement("div",{className:Z.a.container},c.a.createElement(V["a"],{style:{width:600}},c.a.createElement(L["a"],null,c.a.createElement(D["a"],{span:12,className:"total item-wrap"},c.a.createElement(P["a"],{title:"\u5df2\u5206\u914d\u603b\u6570",value:t.distributionNumber})),c.a.createElement(D["a"],{span:12,className:"total item-wrap"},c.a.createElement("span",{onClick:I},c.a.createElement(P["a"],{title:"\u5269\u4f59\u5e93\u5b58\u603b\u6570",value:t.residualInventoryNumber,valueStyle:{textDecoration:"underline",color:"#1890ff"}}))))),c.a.createElement(T["a"],{title:"\u53f7\u724c\u5e93\u5b58",visible:f,footer:null,onCancel:function(){return v(!1)}},c.a.createElement(J,{level:4,className:"mb-16"},"\u5269\u4f59\u5e93\u5b58\u603b\u6570\uff1a",t.residualInventoryNumber),c.a.createElement(B,{className:"mb-16",placeholder:"\u641c\u7d22\u8f66\u724c\u53f7",onSearch:S,enterButton:!0}),c.a.createElement(d["a"],O)))},R=(Object(s["connect"])((function(e){var t=e.distributeList,a=e.login,n=e.surplus,r=e.loading;return{census:t.census,userInfo:a,surplus:n,tableLoading:r.effects["surplus/getList"]}}))(Q),a("3ZZI")),H=a.n(R),G=(a("Znn+"),a("ZTPi")),U=a("7qPq"),W=a.n(U),X=G["a"].TabPane,$=function(e){var t=e.tabData,a=void 0===t?[]:t,n=e.size,r=void 0===n?"default":n,i=e.tabsChange,l=function(e){i(e)};return c.a.createElement("div",{className:W.a.container},c.a.createElement("div",{id:"components-tabs-demo-basic"},c.a.createElement(G["a"],{defaultActiveKey:"1",onChange:l,size:r},a.map((function(e){return c.a.createElement(X,{tab:e.title,key:e.id},e.component)})))))},_=(a("LxC5"),function(e){var t=e.getMeansList;return[{title:"\u8d44\u6599\u5ba1\u6838",id:1,component:c.a.createElement(A,null,c.a.createElement(y,{paginationChange:t}))}]}),ee=function(e){var t=e.dispatch,a=e.means,s=e.meansListState,d=e.userInfo,u=(e.distributeListState,Object(l["useState"])("1")),m=Object(r["a"])(u,2),p=m[0],g=m[1],b=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(n["a"])({},s.filter);t({type:"meansList/getList",payload:Object(n["a"])({agentOutletsId:a||d.firstId,account:d.phone,pageIndex:e,pageSize:s.pageSize,versionType:"vip",secondaryAgentOutletsId:[]},r)}),t({type:"subDealer/getList",payload:{agentOutletsId:a||d.firstId}})};Object(l["useLayoutEffect"])((function(){console.log(111),b(1,!1,{})}),[]);var f=function(e,t){switch(e){case"1":b(s.current,t);break;default:return!1}},E=function(e){g(e),f(e)},v=function(e){f(p,e)};return c.a.createElement(i["b"],{className:H.a.main},c.a.createElement(o["a"],{changeCallBack:v}),c.a.createElement($,{tabData:_({means:a,getMeansList:b}),tabsChange:E}))};t["default"]=Object(s["connect"])((function(e){var t=e.login,a=e.meansList,n=e.distributeList;return{userInfo:t,meansListState:a,distributeListState:n}}))(ee)},rZYV:function(e,t,a){e.exports={container:"antd-pro-pages-car-manage-vip-components-means-form-search-index-container"}}}]);